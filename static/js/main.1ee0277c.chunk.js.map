{"version":3,"sources":["resources/analytics.svg","resources/dispatching.svg","registerServiceWorker.js","actions/AuthActions.js","reducers/app.js","settings/aws/AwsConfig.js","actions/AddressListActions.js","reducers/addressList.js","actions/GroupsListActions.js","reducers/groupsList.js","services/AwsService.js","services/AwsMqttService.js","sagas/appSaga.js","store.js","theme.js","selectors/appSelectors.js","components/LinkBtn.js","components/User.js","containers/UserContainer.js","modules/Analyst/actions/AnalystActions.js","modules/Analyst/reducers/analyst.js","services/CsvShkaService.js","modules/Analyst/sagas/analystSaga.js","modules/Analyst/index.js","modules/Analyst/packages/Analyst/Analyst.js","modules/Analyst/packages/AnalystGroupList/AnalystGroupListItem.js","modules/Analyst/packages/AnalystGroupList/AnalystGroupList.js","modules/Analyst/packages/AnalystGroupList/AnalystGroupList.container.js","modules/Analyst/packages/Analyst/Analyst.container.js","modules/Analyst/packages/Analyst/Analyst.module.js","components/WsSelect.js","containers/WsSelectContainer.js","modules/Dispatch/actions/DispatchActions.js","modules/Dispatch/reducers/dispatch.js","modules/Dispatch/actions/EventListActions.js","modules/Dispatch/reducers/eventList.js","modules/Dispatch/actions/ThingListActions.js","modules/Dispatch/reducers/thingList.js","modules/Dispatch/sagas/dispatchSaga.js","modules/Dispatch/index.js","modules/Dispatch/packages/Dispatch/Dispatch.js","modules/Dispatch/packages/DispatchEventList/DispatchEventListItem.js","modules/Dispatch/packages/DispatchEventList/DispatchEventList.js","modules/Dispatch/packages/DispatchEventList/DispatchEventList.container.js","modules/Dispatch/packages/DispatchEventListFilter/DispatchEventListFilter.js","modules/Dispatch/packages/DispatchEventListFilter/DispatchEventListFilter.container.js","components/Thing/ThingStatus.js","components/Thing/ThingIdentity.js","components/Thing/ThingAlarm.js","components/Thing/ThingGuard.js","components/Thing/ThingPower.js","components/Thing/ThingConnection.js","modules/Dispatch/packages/DispatchThingList/DispatchThingListItem.js","modules/Dispatch/packages/DispatchThingList/DispatchThingList.js","modules/Dispatch/packages/DispatchThingList/DispatchThingList.container.js","modules/Dispatch/packages/DispatchThingListFilter/DispatchThingListFilter.js","modules/Dispatch/packages/DispatchThingListFilter/DispatchThingListFilter.container.js","modules/Dispatch/packages/DispatchThingDialog/DispatchThingDialog.js","components/Thing/ThingUpdated.js","components/Sensor/SensorStatus.js","components/Thing/ThingSensors.js","components/Thing/ThingDin.js","components/Thing/ThingDout.js","components/Thing/ThingRelays.js","components/Thing/ThingBus.js","modules/Dispatch/packages/DispatchThingDetails/DispatchThingDetails.js","modules/Dispatch/packages/DispatchThingDetails/DispatchThingDetails.container.js","modules/Dispatch/packages/DispatchThingDialog/DispatchThingDialog.container.js","modules/Dispatch/packages/Dispatch/Dispatch.container.js","modules/Dispatch/packages/Dispatch/Dispatch.module.js","components/NotFound.js","packages/Auth/Auth.js","packages/Auth/Auth.container.js","packages/App/App.js","packages/App/App.container.js","index.js"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","USER_CHECK","USER_CHECK_SUCCESS","USER_CHECK_FAILURE","USER_AUTH","USER_AUTH_SUCCESS","USER_AUTH_FAILURE","USER_EXIT","authUser","payload","type","cookies","Cookies","initialState","user","userError","userCheckPending","userAuthPending","action","name","credentials","remove","AWS_CONFIG","identityPoolId","region","userPoolId","clientId","endpointAddress","restApi","ADDRESS_LIST_FETCH","fetchAddressList","dispatch","a","status","fetch","res","json","data","ok","list","listPending","listError","listItemById","Items","reduce","item","id","N","GROUPS_LIST_FETCH","fetchGroupsList","authenticate","params","Promise","resolve","reject","$","require","AmazonCognitoIdentity","authenticationData","Username","username","toLowerCase","Password","password","poolData","UserPoolId","ClientId","userPool","CognitoUserPool","userData","Pool","authenticationDetails","AuthenticationDetails","CognitoUser","authenticateUser","onSuccess","session","onFailure","err","addClass","delay","queue","removeClass","focus","select","dequeue","code","SigV4getSignedUrl","host","datetime","AWS","date","iso8601","Date","replace","substr","credentialScope","canonicalQuerystring","encodeURIComponent","accessKeyId","canonicalRequest","method","crypto","sha256","stringToSign","algorithm","signingKey","key","service","kDate","hmac","kRegion","kService","SigV4getSignatureKey","secretAccessKey","sessionToken","protocol","AwsMqttClient","client","ready","onMessageArrived","message","emit","destinationName","onConnectionLost","onConnected","reconnect","EventEmitter","awsmMqttClientPromise","awsMqttClient","getAwsMqttClient","requestUrl","Paho","Client","connect","args","subscribeEvents","timeout","subscribe","unsubscribeEvents","unsubscribe","subscribeThingShadowGet","thing","all","device","Error","subscribeThingShadowUpdate","requestThingShadowGet","Message","send","requestThingShadowUpdate","thingShadow","JSON","stringify","checkUser","initUser","takeLatest","get","idToken","accessToken","call","resolveUser","put","getIdToken","getJwtToken","idTokenExpires","getExpiration","getAccessToken","set","path","expires","update","loginCredentialsProvider","IdentityPoolId","Logins","clearCachedId","IotConfig","endpoint","store","createStore","enhancers","applyMiddleware","extensions","getSagaExtension","getThunkExtension","reducerMap","app","addressList","groupsList","sagas","appSaga","initialActions","theme","createMuiTheme","palette","primary","main","secondary","getUser","getUserPending","LinkBtn","to","label","Button","variant","color","User","Fragment","className","UserContainer","loggedIn","this","props","React","Component","ANALYST_DATA_FETCH","ANALYST_DATA_FETCH_SUCCESS","ANALYST_DATA_FETCH_FAILURE","fetchAnalystData","getState","dataPending","dataError","total","groups","dataset","activeThings","count","length","statusNormalCount","statusAlminCount","statusAlmajCount","noConnectionCount","errorCount","errorPercentage","Object","values","groupById","row","group","group_id","thingById","prevRow","parseInt","__time","now","msgtime","Number","Math","round","getCsvShka","datasetName","getDatasetContent","listenEvents","listenInterval","fork","channel","eventChannel","handleMessage","event","parse","payloadString","on","removeListener","take","interval","setInterval","clearInterval","opts","headers","auth","aws4","sign","dataUri","getCSV","Analyst","onFetchData","onFetchGroupList","classes","GroupList","groupListComponent","Box","root","display","flexGrow","Paper","component","flexDirection","m","Toolbar","Typography","PureComponent","withStyles","AnalystGroupListItem","index","style","itemColumn","itemColumn_title","itemColumn_count","itemColumn_error","itemColumn_service","itemColumn_status","S","AnalystGroupList","groupList","head","marginRight","position","AutoSizer","width","height","itemCount","itemSize","overscanCount","itemData","flexWrap","alignItems","WebkitBoxOrient","WebkitBoxDirection","WebkitBoxAlign","boxShadow","boxSizing","minWidth","overflow","paddingLeft","paddingRight","lineHeight","fontSize","spacing","flex","whiteSpace","justifyContent","textDecoration","analyst","AnalystGroupListContainer","bindActionCreators","modules","analystSaga","WsSelect","src","alt","DISPATCH_FILTER_PARAMS_SET","setDispatchFilterParams","filter","address","noPower","noConnection2h","noConnection24h","noEthernet","lowGsm","statusNormal","statusAlmin","statusAlmaj","activeEthernet","activeGsm","noConnection","EVENT_LIST_FETCH","EVENT_LIST_FILTER","EVENT_LIST_APPEND","fetchEventList","getTime","time","sort","b","filterEventList","filterByCat","filterByLevel","listRaw","filtered","cat","level","Count","createItem","THING_LIST_FETCH","THING_LIST_FETCH_SUCCESS","THING_LIST_FETCH_FAILURE","THING_OPEN","THING_CLOSE","fetchThingList","openThing","closeThing","eventList","thingsList","Dispatch","onFetchAddressList","ThingListFilter","thingListFilterComponent","EventList","eventListComponent","EventListFilter","eventListFilterComponent","ThingList","thingListComponent","ThingDialog","thingDialogComponent","pt","pb","mb","dialogContainer","dialogPaper","marginTop","dialogBar","backgroundColor","dialogContent","padding","dialogActions","dialogAction","DispatchEventListItem","moment","format","itemColumn_level","itemIcon","itemColumn_device","itemColumn_message","itemColumn_time","renderTime","DispatchEventList","onClickThing","marginLeft","DispatchEventListContainer","DispatchEventListFilter","Chip","chip","undefined","onClick","titleChip","background","DispatchEventListFilterContainer","ThingStatus","reported","hideIcon","hideLabel","hideValue","disconnected","isDisconnected","getStatus","icon","verticalAlign","ThingIdentity","addressById","title","address_id","comment","content","ThingAlarm","alarm","whenActive","Tooltip","tooltip","renderValue","renderIcon","isActive","icon_textPrimary","icon_textSecondary","value","top","text","fontWeight","textTransform","LockOpenIcon","createSvgIcon","d","ThingGuard","guard","whenInactive","ThingPower","pwr","EthernetCableIcon","AccessPointIcon","ThingConnection","conn","isEthernet","isGsm","DispatchThingListItem","ts","disconnectedHours","msgtimeMoment","isDisconnectedThing","item_noConnection","itemColumn_object","Link","itemColumn_problems","rssi","tamper","itemColumn_details","itemColumn_updated","dateTime","duration","locale","humanize","DispatchThingList","onFetchThingList","prevProps","prevState","snapshot","thingListParams","thingList","entries","forEach","k","v","setState","opacity","cursor","thingListPending","thingListError","PARAMS","DispatchThingListFilter","handleChangeAddress","target","handleChangeCheckbox","checked","handleSubmit","hasParams","searchParamsOrder","searchParams","push","history","search","indexOf","pathname","setParams","keys","right","bottom","left","overflowY","p","heading","paragraph","subtitle","NativeSelect","addressSelect","onChange","fullWidth","map","FormGroup","FormControlLabel","checkboxControl","checkboxControlLabel","control","Checkbox","checkbox","submit","isSubmitted","withRouter","margin","borderRadius","shape","marginBottom","paper","borderBottomColor","typography","body2","paddingTop","addressListPending","addressListError","groupsListPending","groupsListError","DispatchThingDialog","open","onClose","ThingDetails","thingDetailsComponent","Dialog","container","maxWidth","AppBar","elevation","Container","disableGutters","dialogBarTitle","IconButton","edge","DialogContent","ThingUpdated","hideValueDuration","getValue","valueDuration","getValueDuration","SensorStatus","sensor","ThingSensors","Table","table","TableHead","TableRow","TableCell","TableBody","ain","i","role","borderBottom","ThingDin","din","scope","ThingDout","desired","desiredDout","dout","reportedDout","unsavedState","onChangeState","getItemValue","isItemDesired","CircularProgress","Switch","disabled","textAlign","ThingRelays","desiredRelay","relay","reportedRelay","ThingBusDevices","bus","unit","DispatchThingDetails","thingShadowPending","thingShadowError","unsavedDoutState","unsavedRelayState","handleThingShadowGetAccepted","handleThingShadowGetRejected","handleThingShadowUpdateAccepted","handleThingShadowUpdateRejected","handleChangeAlarm","handleChangeGuard","getThingShadowGuardState","handleChangeDout","getThingShadowDoutState","handleChangeRelay","getThingShadowRelayState","listenThingShadow","unlistenThingShadow","thingShadowState","alert","groupCollapsed","groupEnd","progress","ExpansionPanel","panel","defaultExpanded","ExpansionPanelSummary","panelSummary","panelSummaryContent","expandIcon","panelHeading","panelDetailsShort","ExpansionPanelDetails","panelDetails","owire","ThingBus","rs485_1","rs485_2","rs485_3","rs485_4","rs232","minHeight","zIndex","DispatchThingDetailsContainer","DispatchThingListContainer","DispatchThingDialogContainer","dispatchSaga","NotFound","Auth","onAuth","useState","setData","onSubmit","evt","preventDefault","placeholder","App","userPending","exact","AnalystModule","DispatchModule","WsSelectContainer","ReactDOM","render","ThemeProvider","document","getElementById","URL","process","origin","addEventListener","response","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.1ee0277c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/analytics.a203d5f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dispatching.7a07babb.svg\";","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","export const USER_CHECK = 'USER_CHECK'\nexport const USER_CHECK_SUCCESS = 'USER_CHECK_SUCCESS'\nexport const USER_CHECK_FAILURE = 'USER_CHECK_FAILURE'\n\nexport const USER_AUTH = 'USER_AUTH'\nexport const USER_AUTH_SUCCESS = 'USER_AUTH_SUCCESS'\nexport const USER_AUTH_FAILURE = 'USER_AUTH_FAILURE'\n\nexport const USER_EXIT = 'USER_EXIT'\n\nexport function checkUser() {\n  return {\n    type: USER_CHECK,\n  }\n}\n\nexport function authUser(payload) {\n  return {\n    type: USER_AUTH,\n    payload,\n  }\n}\n\nexport function exitUser() {\n  return {\n    type: USER_EXIT,\n  }\n}\n","import Cookies from 'universal-cookie' // WTF\nimport {\n  USER_CHECK,\n  USER_CHECK_SUCCESS,\n  USER_CHECK_FAILURE,\n} from '../actions/AuthActions'\nimport {\n  USER_AUTH,\n  USER_AUTH_SUCCESS,\n  USER_AUTH_FAILURE,\n} from '../actions/AuthActions'\nimport { USER_EXIT } from '../actions/AuthActions'\nconst cookies = new Cookies()\n\nconst initialState = {\n  user: null,\n  userError: null,\n  userCheckPending: false,\n  userAuthPending: false,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case USER_CHECK: {\n      return {\n        ...state,\n        user: null,\n        userCheckPending: true,\n      }\n    }\n    case USER_CHECK_SUCCESS: {\n      return {\n        ...state,\n        userCheckPending: false,\n        userError: null,\n        user: {\n          name: action.payload.name,\n          credentials: action.payload.credentials,\n        },\n      }\n    }\n    case USER_CHECK_FAILURE: {\n      return {\n        ...state,\n        userCheckPending: false,\n        user: null,\n        userError: action.payload,\n      }\n    }\n\n    case USER_AUTH: {\n      return {\n        ...state,\n        user: null,\n        userAuthPending: true,\n      }\n    }\n    case USER_AUTH_SUCCESS: {\n      return {\n        ...state,\n        userAuthPending: false,\n        userError: null,\n        user: {\n          name: action.payload.name,\n          credentials: action.payload.credentials,\n        },\n      }\n    }\n    case USER_AUTH_FAILURE: {\n      return {\n        ...state,\n        userAuthPending: false,\n        user: null,\n        userError: action.payload,\n      }\n    }\n\n    case USER_EXIT: {\n      cookies.remove('credentials')\n      return {\n        ...state,\n        user: null,\n        userError: null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","export const AWS_CONFIG = {\n  identityPoolId: 'us-west-2:114badde-4b86-4c5d-a671-837a60c3cbb1',\n  region: 'us-west-2',\n  userPoolId: 'us-west-2_Ua8aBxkIu',\n  clientId: '7mj4lsl3m2kpsqifctr9k98i55',\n  endpointAddress: 'a2o8vhh9dxnl69-ats.iot.us-west-2.amazonaws.com',\n  restApi: 'https://vvup9clsk5.execute-api.us-west-2.amazonaws.com/api',\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nexport const ADDRESS_LIST_FETCH = 'ADDRESS_LIST_FETCH'\n\nexport function fetchAddressList(user) {\n  return async dispatch => {\n    dispatch({\n      type: ADDRESS_LIST_FETCH,\n      status: 'pending',\n    })\n\n    const res = await fetch(AWS_CONFIG.restApi + '/addresses')\n    const data = await res.json()\n    if (res.ok) {\n      dispatch({\n        type: ADDRESS_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: ADDRESS_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n","import { ADDRESS_LIST_FETCH } from '../actions/AddressListActions'\n\nconst initialState = {\n  list: null,\n  listPending: false,\n  listError: null,\n  listItemById: {},\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case ADDRESS_LIST_FETCH: {\n      const { status, payload } = action\n\n      return {\n        ...state,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n        listItemById:\n          status === 'success'\n            ? payload.Items.reduce((listItemById, item) => {\n                listItemById[item.id.N] = item\n                return listItemById\n              }, {})\n            : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nexport const GROUPS_LIST_FETCH = 'GROUPS_LIST_FETCH'\n\nexport function fetchGroupsList(user) {\n  return async dispatch => {\n    dispatch({\n      type: GROUPS_LIST_FETCH,\n      status: 'pending',\n    })\n\n    const res = await fetch(AWS_CONFIG.restApi + '/groups')\n    const data = await res.json()\n    if (res.ok) {\n      dispatch({\n        type: GROUPS_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: GROUPS_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n","import { GROUPS_LIST_FETCH } from '../actions/GroupsListActions'\n\nconst initialState = {\n  list: null,\n  listPending: false,\n  listError: null,\n  listItemById: {},\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case GROUPS_LIST_FETCH: {\n      const { status, payload } = action\n\n      return {\n        ...state,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n        listItemById:\n          status === 'success'\n            ? payload.Items.reduce((listItemById, item) => {\n                listItemById[item.id.N] = item\n                return listItemById\n              }, {})\n            : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\n\nexport function authenticate(params) {\n  return new Promise((resolve, reject) => {\n    var $ = require('jquery')\n    var AmazonCognitoIdentity = require('amazon-cognito-identity-js')\n\n    var authenticationData = {\n      Username: params.username.toLowerCase(), // your username here\n      Password: params.password, // your password here\n    }\n    var poolData = {\n      UserPoolId: AWS_CONFIG.userPoolId,\n      ClientId: AWS_CONFIG.clientId,\n    }\n\n    console.log(poolData)\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData)\n    var userData = {\n      Username: authenticationData.Username,\n      Pool: userPool,\n    }\n    var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(\n      authenticationData\n    )\n    var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData)\n\n    cognitoUser.authenticateUser(authenticationDetails, {\n      onSuccess: function(session) {\n        resolve(session)\n      },\n\n      onFailure: function(err) {\n        console.log(err)\n        console.log('AWS AUTH ERROR')\n        $('.box') // lol\n          .addClass('shake')\n          .delay(1000)\n          .queue(function() {\n            $('.box').removeClass('shake')\n            $(\"input[name='password']\")\n              .focus()\n              .select()\n            $('.box').dequeue()\n          })\n        resolve({\n          status: false,\n          code: 'invalid_login_or_password',\n          credentials: {},\n        })\n      },\n\n      //newPasswordRequired: function(userAttributes, requiredAttributes) {\n      //  // User was signed up by an admin and must provide new\n      //  // password and required attributes, if any, to complete\n      //  // authentication.\n      //  console.log('user: ', userAttributes)\n      //  console.log('required: ', requiredAttributes)\n      //  // the api doesn't accept this field back\n      //  delete userAttributes.email_verified\n      //  delete userAttributes.phone_number_verified\n      //  var newPassword = prompt('Input new password', '')\n      //  // store userAttributes on global variable\n      //  userAttributes.name = 'name' // TODO\n      //  userAttributes.family_name = 'surname' // TODO\n      //  var sessionUserAttributes = userAttributes\n      //  console.log(userAttributes)\n      //  cognitoUser.completeNewPasswordChallenge(\n      //    newPassword,\n      //    sessionUserAttributes,\n      //    {\n      //      onSuccess: result => {\n      //        console.log('NEW PASSWORD COMPLETED: ')\n      //        console.log(result)\n      //      },\n      //      onFailure: err => {\n      //        console.log(err)\n      //        reject(err)\n      //      },\n      //    }\n      //  )\n      //  // store userAttributes on global variable\n      //  sessionUserAttributes = userAttributes\n      //},\n    })\n  })\n}\n","import Paho from 'paho-mqtt'\nimport * as AWS from 'aws-sdk'\nimport { AWS_CONFIG } from '../settings/aws/AwsConfig'\n\nimport EventEmitter from 'events'\n\nfunction SigV4getSignatureKey(key, date, region, service) {\n  var kDate = AWS.util.crypto.hmac('AWS4' + key, date, 'buffer')\n  var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer')\n  var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer')\n  var kCredentials = AWS.util.crypto.hmac(kService, 'aws4_request', 'buffer')\n  return kCredentials\n}\n\nfunction SigV4getSignedUrl(host, region, credentials) {\n  var datetime = AWS.util.date.iso8601(new Date()).replace(/[:-]|\\.\\d{3}/g, '')\n  var date = datetime.substr(0, 8)\n\n  var method = 'GET'\n  var protocol = 'wss'\n  var uri = '/mqtt'\n  var service = 'iotdevicegateway'\n  var algorithm = 'AWS4-HMAC-SHA256'\n\n  var credentialScope = `${date}/${region}/${service}/aws4_request`\n  var canonicalQuerystring = `X-Amz-Algorithm=${algorithm}&X-Amz-Credential=${encodeURIComponent(\n    credentials.accessKeyId + '/' + credentialScope\n  )}&X-Amz-Date=${datetime}&X-Amz-SignedHeaders=host`\n  var canonicalHeaders = `host:${host}\\n`\n  var payloadHash = AWS.util.crypto.sha256('', 'hex')\n  var canonicalRequest =\n    method +\n    '\\n' +\n    uri +\n    '\\n' +\n    canonicalQuerystring +\n    '\\n' +\n    canonicalHeaders +\n    '\\nhost\\n' +\n    payloadHash\n\n  var stringToSign =\n    algorithm +\n    '\\n' +\n    datetime +\n    '\\n' +\n    credentialScope +\n    '\\n' +\n    AWS.util.crypto.sha256(canonicalRequest, 'hex')\n  var signingKey = SigV4getSignatureKey(\n    credentials.secretAccessKey,\n    date,\n    region,\n    service\n  )\n  var signature = AWS.util.crypto.hmac(signingKey, stringToSign, 'hex')\n\n  canonicalQuerystring += '&X-Amz-Signature=' + signature\n  if (credentials.sessionToken) {\n    canonicalQuerystring +=\n      '&X-Amz-Security-Token=' + encodeURIComponent(credentials.sessionToken)\n  }\n\n  var requestUrl = protocol + '://' + host + uri + '?' + canonicalQuerystring\n  return requestUrl\n}\n\nclass AwsMqttClient extends EventEmitter {\n  constructor(client) {\n    super()\n    this.ready = false\n    this.client = client\n    this.client.onMessageArrived = message => {\n      this.emit(message.destinationName, message)\n    }\n    this.client.onConnectionLost = res => {\n      this.ready = true\n      console.error(res)\n    }\n    this.client.onConnected = reconnect => {\n      this.ready = true\n    }\n  }\n}\n\nlet awsmMqttClientPromise = null\nlet awsMqttClient = null\n\nexport function getAwsMqttClient() {\n  if (awsMqttClient) {\n    return Promise.resolve(awsMqttClient)\n  }\n  if (awsmMqttClientPromise) {\n    return awsmMqttClientPromise\n  }\n  const requestUrl = SigV4getSignedUrl(\n    AWS_CONFIG.endpointAddress,\n    AWS.config.region,\n    AWS.config.credentials\n  )\n  const client = new Paho.Client(requestUrl, AWS_CONFIG.clientId)\n  return (awsmMqttClientPromise = new Promise((resolve, reject) => {\n    client.connect({\n      reconnect: true,\n      onSuccess: () => {\n        awsMqttClient = new AwsMqttClient(client)\n        awsmMqttClientPromise = null\n        resolve(awsMqttClient)\n      },\n      onFailure: (...args) => {\n        console.log('connection error', ...args)\n      },\n    })\n  }))\n}\n\nexport function subscribeEvents({ timeout = 10 } = {}) {\n  return new Promise((onSuccess, onFailure) => {\n    awsMqttClient.client.subscribe(`/events`, { onSuccess, onFailure, timeout })\n  })\n}\n\nexport function unsubscribeEvents({ timeout = 10 } = {}) {\n  return new Promise((onSuccess, onFailure) => {\n    awsMqttClient.client.unsubscribe(`/events`, {\n      onSuccess,\n      onFailure,\n      timeout,\n    })\n  })\n}\n\nexport function subscribeThingShadowGet(thing, { timeout = 10 } = {}) {\n  if (!awsMqttClient.ready) {\n    return Promise.reject(Error('Disconnected'))\n  }\n  return Promise.all([\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/get/accepted`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/get/rejected`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n  ])\n}\n\nexport function subscribeThingShadowUpdate(thing, { timeout = 10 } = {}) {\n  if (!awsMqttClient.ready) {\n    return Promise.reject(Error('Disconnected'))\n  }\n  return Promise.all([\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/update/accepted`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/update/rejected`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n  ])\n}\n\nexport function requestThingShadowGet(thing) {\n  const message = new Paho.Message('')\n  message.destinationName = `$aws/things/${thing.device}/shadow/get`\n  awsMqttClient.client.send(message)\n}\n\nexport function requestThingShadowUpdate(thing, thingShadow) {\n  const message = new Paho.Message(JSON.stringify(thingShadow))\n  message.destinationName = `$aws/things/${thing.device}/shadow/update`\n  awsMqttClient.client.send(message)\n}\n\nexport async function resolveThingShadowUpdate(thing, thingShadow) {\n  return new Promise(async (resolve, reject) => {\n    //const client= await connectToAwsMqtt()\n    //client.onMessageArrived= (message) => {\n    //  if (message.destinationName === `$aws/things/${this.props.thing.device}/shadow/update/accepted`) {\n    //    console.warn('shadow update accepted')\n    //    resolve()\n    //  } else if (message.destinationName === `$aws/things/${this.props.thing.device}/shadow/update/rejected`) {\n    //    console.warn('shadow update rejected')\n    //    reject()\n    //  }\n    //}\n    //await subscribeThingShadowUpdate(client, thing)\n    await requestThingShadowUpdate(thing, thingShadow)\n  })\n}\n","import { takeLatest, put, call } from 'redux-saga/effects'\nimport {\n  USER_CHECK,\n  USER_CHECK_SUCCESS,\n  USER_CHECK_FAILURE,\n} from '../actions/AuthActions'\nimport {\n  USER_AUTH,\n  USER_AUTH_SUCCESS,\n  USER_AUTH_FAILURE,\n} from '../actions/AuthActions'\nimport { authenticate } from '../services/AwsService'\nimport Cookies from 'universal-cookie'\n\nimport * as AWS from 'aws-sdk'\nimport { AWS_CONFIG } from '../settings/aws/AwsConfig'\nimport { getAwsMqttClient } from '../services/AwsMqttService'\n\nconst cookies = new Cookies()\n\nexport default function*() {\n  yield takeLatest(USER_CHECK, checkUser)\n  yield takeLatest(USER_CHECK_SUCCESS, initUser)\n  yield takeLatest(USER_AUTH, authUser)\n  yield takeLatest(USER_AUTH_SUCCESS, initUser)\n}\n\nfunction* checkUser() {\n  try {\n    const credentials = cookies.get('credentials')\n    if (credentials) {\n      const { name, idToken, accessToken } = credentials\n      const user = yield call(resolveUser, name, idToken, accessToken)\n      yield put({\n        type: USER_CHECK_SUCCESS,\n        payload: user,\n      })\n    } else {\n      yield put({\n        type: USER_CHECK_FAILURE,\n        payload: '',\n      })\n    }\n  } catch (err) {\n    yield put({\n      type: USER_CHECK_FAILURE,\n      payload: err,\n    })\n  }\n}\n\nfunction* authUser({ payload }) {\n  try {\n    const name = payload.username\n    const session = yield call(authenticate, payload)\n    const idToken = session.getIdToken().getJwtToken()\n    const idTokenExpires = session.getIdToken().getExpiration()\n    const accessToken = session.getAccessToken().getJwtToken()\n    cookies.set(\n      'credentials',\n      {\n        name,\n        idToken,\n        accessToken,\n      },\n      {\n        path: '/',\n        expires: new Date(idTokenExpires * 1000),\n      }\n    )\n    const user = yield call(resolveUser, name, idToken, accessToken)\n    yield put({\n      type: USER_AUTH_SUCCESS,\n      payload: user,\n    })\n  } catch (err) {\n    yield put({\n      type: USER_AUTH_FAILURE,\n      payload: err,\n    })\n  }\n}\n\nfunction* initUser() {\n  yield call(getAwsMqttClient)\n}\n\nasync function resolveUser(name, idToken, accessToken) {\n  AWS.config.update({ region: AWS_CONFIG.region }) // почему это тут?\n  const loginCredentialsProvider = `cognito-idp.${AWS_CONFIG.region}.amazonaws.com/${AWS_CONFIG.userPoolId}`\n  AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n    IdentityPoolId: AWS_CONFIG.identityPoolId,\n    Logins: {\n      [loginCredentialsProvider]: idToken,\n    },\n  })\n  await new Promise((resolve, reject) => {\n    AWS.config.credentials.get(error => {\n      if (error) {\n        AWS.config.credentials.clearCachedId()\n        return reject(error)\n      }\n      resolve()\n    })\n  })\n  const IotConfig = {\n    endpoint: 'iot.' + AWS_CONFIG.region + '.amazonaws.com',\n    region: AWS_CONFIG.region,\n    accessKeyId: AWS.config.credentials.accessKeyId,\n    accessToken: accessToken,\n    idToken: idToken,\n    secretAccessKey: AWS.config.credentials.secretAccessKey,\n    sessionToken: AWS.config.credentials.sessionToken,\n  }\n  new AWS.Iot(IotConfig) // почему это тут?\n  return {\n    name,\n    credentials: IotConfig,\n  }\n}\n","import { createStore } from 'redux-dynamic-modules'\nimport { getSagaExtension } from 'redux-dynamic-modules-saga'\nimport { getThunkExtension } from 'redux-dynamic-modules-thunk'\n\nimport { applyMiddleware } from 'redux'\n\nimport app from './reducers/app'\nimport addressList from './reducers/addressList'\nimport groupsList from './reducers/groupsList'\nimport appSaga from './sagas/appSaga'\nimport { checkUser } from './actions/AuthActions'\n\nfunction createDefaultModule() {\n  return {\n    id: 'default',\n    reducerMap: {\n      app,\n      addressList,\n      groupsList,\n    },\n    sagas: [appSaga],\n    initialActions: [checkUser()],\n  }\n}\n\nconst middleware = []\n\nconst store = createStore(\n  {\n    initialState: {},\n    enhancers: [applyMiddleware(...middleware)],\n    extensions: [getSagaExtension(), getThunkExtension()],\n  },\n  createDefaultModule()\n)\n\nexport default store\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#3498db',\n    },\n    secondary: {\n      main: '#3f51b5',\n    },\n  },\n})\n\nexport default theme\n","export function getUser(state) {\n  return state.app.user\n}\n\nexport function getUserPending(state) {\n  return state.app.userCheckPending || state.app.userAuthPending\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport { Link } from 'react-router-dom'\n\nconst LinkBtn = ({ to, label }) => {\n  return (\n    <Link to={to}>\n      <Button variant=\"contained\" color=\"primary\">\n        <span>{label}</span>\n      </Button>\n    </Link>\n  )\n}\n\nexport default LinkBtn\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst User = ({ user }) => {\n  //console.log(user);\n  if (user)\n    if (user.name)\n      return (\n        <React.Fragment>\n          <div className=\"username\">{user.name}</div>\n        </React.Fragment>\n      )\n    else\n      return (\n        <React.Fragment>\n          <Link className=\"loginLink\" to=\"/login\">\n            <div className=\"username\">{'Войти'}</div>\n          </Link>\n        </React.Fragment>\n      )\n}\n\nexport default User\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { getUser } from '../selectors/appSelectors'\n\nimport User from '../components/User'\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nclass UserContainer extends React.Component {\n  state = {\n    loggedIn: null,\n  }\n\n  render() {\n    return <User user={{ ...this.props.user }} />\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserContainer)\n","export const ANALYST_DATA_FETCH = 'ANALYST_DATA_FETCH'\nexport const ANALYST_DATA_FETCH_SUCCESS = 'ANALYST_DATA_FETCH_SUCCESS'\nexport const ANALYST_DATA_FETCH_FAILURE = 'ANALYST_DATA_FETCH_FAILURE'\n\nexport function fetchAnalystData() {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: ANALYST_DATA_FETCH,\n      status: 'pending',\n    })\n  }\n}\n","import {\n  ANALYST_DATA_FETCH,\n  ANALYST_DATA_FETCH_SUCCESS,\n  ANALYST_DATA_FETCH_FAILURE,\n} from '../actions/AnalystActions'\n\nconst initialState = {\n  data: null,\n  dataPending: false,\n  dataError: null,\n\n  total: {},\n  groups: [],\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case ANALYST_DATA_FETCH: {\n      return {\n        ...state,\n        dataPending: true,\n      }\n    }\n\n    case ANALYST_DATA_FETCH_SUCCESS: {\n      const { activeThings, dataset } = action.payload\n      const total = {\n        count: dataset.length || 0,\n        statusNormalCount: 0,\n        statusAlminCount: 0,\n        statusAlmajCount: 0,\n        noConnectionCount: 0,\n        errorCount: 0,\n        errorPercentage: 0,\n      }\n      const groups = Object.values(\n        dataset.reduce((groupById, row) => {\n          const group = (groupById[row.group_id] = groupById[row.group_id] || {\n            id: row.group_id,\n            thingById: {},\n            count: 0,\n            statusNormalCount: 0,\n            statusAlminCount: 0,\n            statusAlmajCount: 0,\n            noConnectionCount: 0,\n            errorCount: 0,\n            errorPercentage: 0,\n          })\n          if (!group.thingById[row.device]) {\n            group.thingById[row.device] = row\n          } else {\n            const prevRow = group.thingById[row.device]\n            if (parseInt(row.__time) >= parseInt(prevRow.__time)) {\n              group.thingById[row.device] = row\n            }\n          }\n          return groupById\n        }, {})\n      )\n      const now = new Date()\n      for (const group of groups) {\n        for (const thing of Object.values(group.thingById)) {\n          group.count++\n          const msgtime = new Date(Number(`${thing.__time}000`))\n          if (now - msgtime > 1000 * 60 * 60 * 2) {\n            total.noConnectionCount++\n            group.noConnectionCount++\n            total.errorCount++\n            group.errorCount++\n          } else {\n            switch (thing.status) {\n              case 'normal': {\n                total.statusNormalCount++\n                group.statusNormalCount++\n                break\n              }\n              case 'almin': {\n                total.statusAlminCount++\n                group.statusAlminCount++\n                total.errorCount++\n                group.errorCount++\n                break\n              }\n              case 'almaj': {\n                total.statusAlmajCount++\n                group.statusAlmajCount++\n                total.errorCount++\n                group.errorCount++\n                break\n              }\n              default: {\n                // неизвестный статус\n              }\n            }\n          }\n        }\n        group.errorPercentage = Math.round(\n          (group.errorCount / group.count) * 100\n        )\n      }\n      total.errorPercentage = Math.round((total.errorCount / total.count) * 100)\n      return {\n        ...state,\n        dataPending: false,\n        data: action.payload,\n        total,\n        groups,\n      }\n    }\n\n    case ANALYST_DATA_FETCH_FAILURE: {\n      return {\n        ...state,\n        dataPending: false,\n        dataError: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import * as AWS from 'aws-sdk'\n\nexport function getCsvShka(name) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      datasetName: name,\n    }\n    const IotAnalytics = new AWS.IoTAnalytics()\n    IotAnalytics.getDatasetContent(params, (err, data) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(data)\n      }\n    })\n  })\n}\n\nexport function filterRows(rows, params) {\n  // console.warn('filter rows', rows, params)\n\n  return rows.filter(row => {\n    let filtered = true\n    Object.entries(params).forEach(([k, v]) => {\n      if (!filtered) return\n      switch (k) {\n        case 'address': {\n          if (v) {\n            filtered = row.group_id === v\n          }\n          return\n        }\n        case 'noPower': {\n          if (v === true) {\n            filtered = false\n            if (row.pwr === false || row.pwr === 'false') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'noConnection2h': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 2) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'noConnection24h': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 24) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'noEthernet': {\n          if (v === true) {\n            filtered = false\n            if (row.conn !== 'eth') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'lowGsm': {\n          if (v === true) {\n            filtered = false\n            if (Number('' + row.rssi || '0') <= -92) {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'activeEthernet': {\n          if (v === true) {\n            filtered = false\n            if (row.conn === 'eth') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'activeGsm': {\n          if (v === true) {\n            filtered = false\n            if (row.conn === 'gsm') {\n              filtered = true\n            }\n          }\n          return\n        }\n\n        case 'noConnection': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 2) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusNormal': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'normal') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusAlmin': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'almin') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusAlmaj': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'almaj') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n\n        default: {\n        }\n      }\n    })\n    return filtered\n  })\n}\n","import { takeLatest, take, put, fork, call, select } from 'redux-saga/effects'\nimport { eventChannel } from 'redux-saga'\nimport {\n  ANALYST_DATA_FETCH,\n  ANALYST_DATA_FETCH_SUCCESS,\n  ANALYST_DATA_FETCH_FAILURE,\n} from '../actions/AnalystActions'\nimport {\n  getAwsMqttClient,\n  subscribeEvents,\n  unsubscribeEvents,\n} from '../../../services/AwsMqttService'\nimport { AWS_CONFIG } from '../../../settings/aws/AwsConfig'\nimport aws4 from 'aws4'\nimport { getCsvShka } from '../../../services/CsvShkaService'\nimport * as getCSV from 'get-csv'\nimport { getUser } from '../../../selectors/appSelectors'\n\nexport default function*() {\n  yield takeLatest(ANALYST_DATA_FETCH, fetchAnalystData)\n  yield fork(listenEvents)\n  yield fork(listenInterval)\n}\n\nfunction* listenEvents() {\n  const client = yield call(getAwsMqttClient)\n  const channel = new eventChannel(emit => {\n    const handleMessage = message => {\n      const event = JSON.parse(message.payloadString)\n      emit({ event })\n    }\n    client.on('/events', handleMessage)\n    subscribeEvents()\n    return () => {\n      client.removeListener('/events', handleMessage)\n      unsubscribeEvents()\n    }\n  })\n  while (true) {\n    yield take(channel)\n    yield put({ type: ANALYST_DATA_FETCH })\n  }\n}\n\nfunction* listenInterval() {\n  let interval\n  const channel = new eventChannel(emit => {\n    interval = setInterval(() => {\n      emit(new Date())\n    }, 20 * 1000)\n    return () => {\n      clearInterval(interval)\n    }\n  })\n  while (true) {\n    yield take(channel)\n    yield put({ type: ANALYST_DATA_FETCH })\n  }\n}\n\nfunction* fetchAnalystData() {\n  try {\n    const user = yield select(getUser)\n    const opts = {\n      host: 'iot.us-west-2.amazonaws.com',\n      method: 'GET',\n      headers: {\n        auth: user.credentials.idToken,\n      },\n    }\n    aws4.sign(opts, {\n      accessKeyId: user.credentials.accessKeyId,\n      secretAccessKey: user.credentials.secretAccessKey,\n      sessionToken: user.credentials.sessionToken,\n    })\n    const res = yield call(fetch, AWS_CONFIG.restApi + '/things/active', opts)\n    const activeThings = yield call([res, 'json'])\n    const data = yield call(getCsvShka, 'st_eye_dataset_laststatus')\n    const dataUri = data['entries'][0]['dataURI']\n    const dataset = yield call(getCSV, dataUri)\n    yield put({\n      type: ANALYST_DATA_FETCH_SUCCESS,\n      payload: {\n        activeThings,\n        dataset,\n      },\n    })\n  } catch (error) {\n    yield put({\n      type: ANALYST_DATA_FETCH_FAILURE,\n      payload: error,\n    })\n  }\n}\n","import analyst from './reducers/analyst'\nimport analystSaga from './sagas/analystSaga'\n\nexport default function() {\n  return {\n    id: 'Analyst',\n    reducerMap: {\n      analyst,\n    },\n    sagas: [analystSaga],\n  }\n}\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Box from '@material-ui/core/Box'\nimport Paper from '@material-ui/core/Paper'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nclass Analyst extends React.PureComponent {\n  componentDidMount() {\n    const { onFetchData, onFetchGroupList } = this.props\n    onFetchData()\n    onFetchGroupList()\n  }\n\n  render() {\n    const { classes } = this.props\n    const { groupListComponent: GroupList } = this.props\n    return (\n      <Box className={classes.root} display=\"flex\" flexGrow={1}>\n        <Paper\n          component={Box}\n          flexGrow={1}\n          display=\"flex\"\n          flexDirection=\"column\"\n          m={2}\n        >\n          <Toolbar>\n            <Typography variant=\"h6\">Текущие показания</Typography>\n          </Toolbar>\n          <GroupList />\n        </Paper>\n      </Box>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n})\n\nexport default withStyles(styles)(Analyst)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nclass AnalystGroupListItem extends React.PureComponent {\n  render() {\n    const {\n      index,\n      style,\n      data: { classes, total, groups, groupById } = {},\n    } = this.props\n    if (index === 0) {\n      return (\n        <div className={`${classes.item}`} style={style}>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_title}`}>\n            Всего\n          </div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            to={`/dispatch`}\n          >\n            {total.count}\n          </Link>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_error}`}>\n            {total.errorPercentage}%\n          </div>\n          <div\n            className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n          ></div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?noConnection=true`}\n          >\n            {total.noConnectionCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusNormal=true`}\n          >\n            {total.statusNormalCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusAlmin=true`}\n          >\n            {total.statusAlminCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusAlmaj=true`}\n          >\n            {total.statusAlmajCount}\n          </Link>\n        </div>\n      )\n    } else {\n      const group = groups[index - 1]\n      return (\n        <div className={`${classes.item}`} style={style}>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_title}`}>\n            Группа {groupById[group.id] && groupById[group.id].name.S}\n          </div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            to={`/dispatch?address=${group.id}`}\n          >\n            {group.count}\n          </Link>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_error}`}>\n            {group.errorPercentage}%\n          </div>\n          <div\n            className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n          ></div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&noConnection=true`}\n          >\n            {group.noConnectionCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusNormal=true`}\n          >\n            {group.statusNormalCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusAlmin=true`}\n          >\n            {group.statusAlminCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusAlmaj=true`}\n          >\n            {group.statusAlmajCount}\n          </Link>\n        </div>\n      )\n    }\n  }\n}\n\nexport default AnalystGroupListItem\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport { FixedSizeList as List } from 'react-window'\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\nimport AnalystGroupListItem from './AnalystGroupListItem'\nimport Box from '@material-ui/core/Box'\nimport LensIcon from '@material-ui/icons/Lens' // import CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport NewReleasesIcon from '@material-ui/icons/NewReleases'\n\nclass AnalystGroupList extends React.PureComponent {\n  render() {\n    const { classes, total, groups, groupList } = this.props\n    if (!groups || !groupList || !groupList.Items) {\n      return null\n    }\n    const groupById = groupList.Items.reduce((groupById, item) => {\n      groupById[item.id.N] = item\n      return groupById\n    }, {})\n    return (\n      <Box flexGrow={1} display=\"flex\" flexDirection=\"column\">\n        <Box>\n          <div className={`${classes.head}`}>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_title}`}\n            ></div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            >\n              Всего\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_error}`}\n            >\n              % с неполадками\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n            >\n              Сервис\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              <LensIcon style={{ color: '#3498db', marginRight: 4 }} /> Нет\n              связи\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              <LensIcon style={{ color: 'rgb(46,204,113)', marginRight: 4 }} />{' '}\n              Норма\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              <ErrorIcon style={{ color: 'rgb(252,118,0)', marginRight: 4 }} />{' '}\n              Нарушение\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              <NewReleasesIcon\n                style={{ color: 'rgb(232,15,15)', marginRight: 4 }}\n              />{' '}\n              Авария\n            </div>\n          </div>\n        </Box>\n        <Box flexGrow={1} position=\"relative\">\n          <AutoSizer>\n            {({ width, height }) => (\n              <List\n                className={classes.list}\n                width={width}\n                height={height}\n                itemCount={groups.length + 1}\n                itemSize={49}\n                overscanCount={5}\n                itemData={{\n                  classes,\n                  total,\n                  groups,\n                  groupById,\n                }}\n              >\n                {AnalystGroupListItem}\n              </List>\n            )}\n          </AutoSizer>\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  head: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n  },\n  item: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    '&:last-child': {\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    },\n  },\n  itemColumn: {\n    display: 'flex',\n    alignItems: 'center',\n    boxSizing: 'border-box',\n    minWidth: 0,\n    overflow: 'hidden',\n    //alignItems: 'center',\n    height: 48,\n    paddingLeft: 12,\n    paddingRight: 12,\n    lineHeight: '16px',\n    fontSize: '14px',\n    '&:first-child': {\n      paddingLeft: theme.spacing(3),\n    },\n    '&:last-child': {\n      paddingRight: theme.spacing(3),\n    },\n  },\n  itemColumn_title: {\n    flex: '2 2 25%',\n  },\n  itemColumn_count: {\n    flex: `1 1 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n    '$item &': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '$item &:hover': {\n      textDecoration: 'underline',\n      color: theme.palette.primary.main,\n    },\n  },\n  itemColumn_error: {\n    flex: `1 1 15%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n  },\n  itemColumn_service: {\n    flex: `1 1 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n  },\n  itemColumn_status: {\n    flex: `2 2 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n    '$item &': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '$item &:hover': {\n      textDecoration: 'underline',\n      color: theme.palette.primary.main,\n    },\n  },\n})\n\nexport default withStyles(styles)(AnalystGroupList)\n","import { connect } from 'react-redux'\nimport AnalystGroupList from './AnalystGroupList'\n\nconst mapStateToProps = state => ({\n  groups: state.analyst.groups,\n  total: state.analyst.total,\n  groupList: state.groupsList.list, // @todo groupList instead of groupsList\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnalystGroupList)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { fetchAnalystData } from '../../actions/AnalystActions'\nimport { fetchGroupsList } from '../../../../actions/GroupsListActions'\n\nimport Analyst from './Analyst'\nimport AnalystGroupListContainer from '../AnalystGroupList/AnalystGroupList.container'\n\nconst mapStateToProps = state => ({\n  groupListComponent: AnalystGroupListContainer,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onFetchData: bindActionCreators(fetchAnalystData, dispatch),\n  onFetchGroupList: bindActionCreators(fetchGroupsList, dispatch),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Analyst)\n","import React from 'react'\nimport { DynamicModuleLoader } from 'redux-dynamic-modules'\nimport AnalystModule from '../../'\nimport Analyst from './Analyst.container'\n\nexport default function(props) {\n  return (\n    <DynamicModuleLoader modules={[AnalystModule()]}>\n      <Analyst />\n    </DynamicModuleLoader>\n  )\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nconst WsSelect = ({ user }) => {\n  return (\n    <div className={'news-list'}>\n      <div className=\"selection_header\">\n        <h1>Выберите автоматизированное рабочее место</h1>\n      </div>\n      <div className=\"selection_container\">\n        <div className=\"wspanel\">\n          <NavLink to=\"/analyst\">\n            <div>\n              <img\n                src={require('../resources/analytics.svg')}\n                alt=\"analytics_img\"\n              ></img>\n            </div>\n            <hr />\n            <div className=\"wspanel_title\">\n              <h3>Руководитель</h3>\n              <span className=\"stitle\">.</span>\n            </div>\n          </NavLink>\n        </div>\n        <div className=\"wspanel\">\n          <NavLink to=\"/dispatch\">\n            <div>\n              <img\n                src={require('../resources/dispatching.svg')}\n                alt=\"dispatching_img\"\n              ></img>\n            </div>\n            <hr />\n            <div className=\"wspanel_title\">\n              <h3>Диспетчер</h3>\n              <span className=\"stitle\">.</span>\n            </div>\n          </NavLink>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default WsSelect\n","import { connect } from 'react-redux'\nimport WsSelect from '../components/WsSelect'\n\nconst mapStateToProps = state => ({\n  //user: getUser(state),\n})\n\nexport default connect(mapStateToProps)(WsSelect)\n","export const DISPATCH_FILTER_PARAMS_SET = 'DISPATCH_FILTER_PARAMS_SET'\n\nexport function setDispatchFilterParams(params) {\n  return {\n    type: DISPATCH_FILTER_PARAMS_SET,\n    params,\n  }\n}\n","import { DISPATCH_FILTER_PARAMS_SET } from '../actions/DispatchActions'\n\nconst initialState = {\n  filter: {\n    params: {\n      address: null,\n      noPower: true,\n      noConnection2h: false,\n      noConnection24h: false,\n      noEthernet: false,\n      lowGsm: false,\n      statusNormal: false,\n      statusAlmin: false,\n      statusAlmaj: false,\n      activeEthernet: false,\n      activeGsm: false,\n      noConnection: false,\n    },\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case DISPATCH_FILTER_PARAMS_SET: {\n      const { params } = action\n      return {\n        ...state,\n        filter: {\n          ...state.filter,\n          params,\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../../../settings/aws/AwsConfig'\n\nexport const EVENT_LIST_FETCH = 'EVENT_LIST_FETCH'\nexport const EVENT_LIST_FILTER = 'EVENT_LIST_FILTER'\nexport const EVENT_LIST_APPEND = 'EVENT_LIST_APPEND'\n\nexport function fetchEventList(user) {\n  function getTime(time) {\n    if (time.length < 13) {\n      // @todo поправить это на бекенде\n      time = `${time}000`\n    }\n    return Number(time)\n  }\n\n  return async dispatch => {\n    dispatch({\n      type: EVENT_LIST_FETCH,\n      status: 'pending',\n    })\n    const res = await fetch(AWS_CONFIG.restApi + '/log')\n    const data = await res.json()\n    if (res.ok) {\n      data.Items.sort((a, b) => {\n        return getTime(b.time.N) - getTime(a.time.N)\n      })\n      dispatch({\n        type: EVENT_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: EVENT_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n\nexport function filterEventList({ filterByCat, filterByLevel }) {\n  return async dispatch => {\n    dispatch({\n      type: EVENT_LIST_FILTER,\n      payload: {\n        filterByCat,\n        filterByLevel,\n      },\n    })\n  }\n}\n","import {\n  EVENT_LIST_FETCH,\n  EVENT_LIST_FILTER,\n  EVENT_LIST_APPEND,\n} from '../actions/EventListActions'\n\nconst initialState = {\n  listRaw: null,\n  list: null,\n  listPending: false,\n  listError: null,\n  filterByCat: null,\n  filterByLevel: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case EVENT_LIST_FETCH: {\n      const { status, payload } = action\n      return {\n        ...state,\n        listRaw: status === 'success' ? payload : null,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n      }\n    }\n\n    case EVENT_LIST_FILTER: {\n      const {\n        payload: { filterByCat, filterByLevel },\n      } = action\n      const Items = state.listRaw.Items.filter(item => {\n        let filtered = true\n        if (filterByCat) {\n          filtered = filterByCat === item.cat.S\n        }\n        if (filterByLevel) {\n          filtered = filterByLevel === item.level.S\n        }\n        return filtered\n      })\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          Items,\n        },\n        filterByCat,\n        filterByLevel,\n      }\n    }\n\n    case EVENT_LIST_APPEND: {\n      const { payload } = action\n      return {\n        ...state,\n        listRaw: {\n          ...state.listRaw,\n          Count: state.listRaw.Count + 1,\n          Items: [createItem(payload), ...state.listRaw.Items],\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\nfunction createItem(data) {\n  // lol\n  return {\n    cat: { S: data.cat },\n    device: { S: data.device },\n    level: { S: data.level },\n    message: { S: data.message },\n    status: { S: data.status },\n    time: { N: data.time },\n  }\n}\n","export const THING_LIST_FETCH = 'THING_LIST_FETCH'\nexport const THING_LIST_FETCH_SUCCESS = 'THING_LIST_FETCH_SUCCESS'\nexport const THING_LIST_FETCH_FAILURE = 'THING_LIST_FETCH_FAILURE'\n\nexport const THING_OPEN = 'THING_OPEN'\nexport const THING_CLOSE = 'THING_CLOSE'\n\nexport function fetchThingList() {\n  return {\n    type: THING_LIST_FETCH,\n  }\n}\n\nexport function openThing(thing) {\n  return {\n    type: THING_OPEN,\n    payload: thing,\n  }\n}\n\nexport function closeThing() {\n  return {\n    type: THING_CLOSE,\n  }\n}\n","import {\n  THING_LIST_FETCH,\n  THING_LIST_FETCH_SUCCESS,\n  THING_LIST_FETCH_FAILURE,\n  THING_OPEN,\n  THING_CLOSE,\n} from '../actions/ThingListActions'\n\nconst initialState = {\n  data: null,\n  dataError: null,\n  dataPending: false,\n\n  thing: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case THING_LIST_FETCH: {\n      return {\n        ...state,\n        data: null,\n        dataError: null,\n        dataPending: true,\n      }\n    }\n\n    case THING_LIST_FETCH_SUCCESS: {\n      return {\n        ...state,\n        data: action.payload,\n        dataError: null,\n        dataPending: false,\n      }\n    }\n\n    case THING_LIST_FETCH_FAILURE: {\n      return {\n        ...state,\n        data: null,\n        dataError: action.payload,\n        dataPending: false,\n      }\n    }\n\n    case THING_OPEN: {\n      const { payload: thing } = action\n      return {\n        ...state,\n        thing,\n      }\n    }\n\n    case THING_CLOSE: {\n      return {\n        ...state,\n        thing: null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { takeLatest, take, put, fork, call, select } from 'redux-saga/effects'\nimport { eventChannel } from 'redux-saga'\nimport {\n  THING_LIST_FETCH,\n  THING_LIST_FETCH_SUCCESS,\n  THING_LIST_FETCH_FAILURE,\n} from '../actions/ThingListActions'\nimport {\n  EVENT_LIST_APPEND,\n  EVENT_LIST_FILTER,\n} from '../actions/EventListActions'\nimport {\n  getAwsMqttClient,\n  subscribeEvents,\n  unsubscribeEvents,\n} from '../../../services/AwsMqttService'\nimport { getCsvShka } from '../../../services/CsvShkaService'\nimport * as getCSV from 'get-csv'\n\nexport default function*() {\n  yield takeLatest(THING_LIST_FETCH, fetchThingList)\n  yield fork(listenEvents)\n  yield fork(listenInterval)\n}\n\nfunction* listenEvents() {\n  const client = yield call(getAwsMqttClient)\n  const channel = new eventChannel(emit => {\n    const handleMessage = message => {\n      const event = JSON.parse(message.payloadString)\n      emit({ event })\n    }\n    client.on('/events', handleMessage)\n    subscribeEvents()\n    return () => {\n      client.removeListener('/events', handleMessage)\n      unsubscribeEvents()\n    }\n  })\n  while (true) {\n    const { event } = yield take(channel)\n    yield put({ type: THING_LIST_FETCH })\n    yield put({ type: EVENT_LIST_APPEND, payload: event })\n    const { filterByCat, filterByLevel } = yield select(state => ({\n      filterByCat: state.eventList.filterByCat,\n      filterByLevel: state.eventList.filterByLevel,\n    }))\n    yield put({\n      type: EVENT_LIST_FILTER,\n      payload: {\n        filterByCat,\n        filterByLevel,\n      },\n    })\n  }\n}\n\nfunction* listenInterval() {\n  let interval\n  const channel = new eventChannel(emit => {\n    interval = setInterval(() => {\n      emit(new Date())\n    }, 20 * 1000)\n    return () => {\n      clearInterval(interval)\n    }\n  })\n  while (true) {\n    yield take(channel)\n    yield put({ type: THING_LIST_FETCH })\n    const { filterByCat, filterByLevel } = yield select(state => ({\n      filterByCat: state.eventList.filterByCat,\n      filterByLevel: state.eventList.filterByLevel,\n    }))\n    yield put({\n      type: EVENT_LIST_FILTER,\n      payload: {\n        filterByCat,\n        filterByLevel,\n      },\n    })\n  }\n}\n\nfunction* fetchThingList() {\n  try {\n    const data = yield call(getCsvShka, 'st_eye_dataset_dispatch')\n    const dataUri = data['entries'][0]['dataURI']\n    const thingsList = yield call(getCSV, dataUri)\n    yield put({\n      type: THING_LIST_FETCH_SUCCESS,\n      payload: thingsList,\n    })\n  } catch (err) {\n    yield put({\n      type: THING_LIST_FETCH_FAILURE,\n      payload: err,\n    })\n  }\n}\n","import dispatch from './reducers/dispatch'\nimport eventList from './reducers/eventList'\nimport thingList from './reducers/thingList'\nimport dispatchSaga from './sagas/dispatchSaga'\n\nexport default function() {\n  return {\n    id: 'Dispatch',\n    reducerMap: {\n      dispatch,\n      eventList,\n      thingList,\n    },\n    sagas: [dispatchSaga],\n  }\n}\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Box from '@material-ui/core/Box'\nimport Paper from '@material-ui/core/Paper'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nclass Dispatch extends React.Component {\n  state = {\n    thing: null,\n  }\n\n  componentDidMount() {\n    const { user, onFetchAddressList, onFetchGroupList } = this.props\n    onFetchAddressList()\n    onFetchGroupList(user)\n  }\n\n  componentWillUnmount() {}\n\n  render() {\n    const {\n      classes,\n      thingListFilterComponent: ThingListFilter,\n      eventListComponent: EventList,\n      eventListFilterComponent: EventListFilter,\n      thingListComponent: ThingList,\n      thingDialogComponent: ThingDialog,\n    } = this.props\n    return (\n      <Box className={classes.root} display=\"flex\" flexGrow={1}>\n        <ThingListFilter />\n\n        <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" pt={2} pb={2}>\n          <Paper\n            component={Box}\n            height=\"62%\"\n            display=\"flex\"\n            flexDirection=\"column\"\n            mb={2}\n          >\n            <Toolbar>\n              <Typography variant=\"h6\">Текущие показания</Typography>\n            </Toolbar>\n\n            <ThingList />\n          </Paper>\n\n          <Paper\n            component={Box}\n            flexGrow={1}\n            display=\"flex\"\n            flexDirection=\"column\"\n          >\n            <Toolbar>\n              <Typography variant=\"h6\">Журнал событий</Typography>\n              <EventListFilter />\n            </Toolbar>\n\n            <Box flexGrow={1} position=\"relative\">\n              <EventList />\n            </Box>\n          </Paper>\n        </Box>\n\n        <ThingDialog />\n      </Box>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  dialogContainer: {\n    alignItems: 'start',\n  },\n  dialogPaper: {\n    marginTop: 56 + 16,\n  },\n  dialogBar: {\n    backgroundColor: 'rgba(25,25,25,1)',\n  },\n  dialogContent: {\n    padding: theme.spacing(3, 0),\n  },\n  dialogActions: {\n    padding: theme.spacing(1),\n    justifyContent: 'flex-start',\n  },\n  dialogAction: {\n    padding: theme.spacing(1, 3),\n  },\n})\n\nexport default withStyles(styles)(Dispatch)\n","import React from 'react'\n\nimport CheckCircleIcon from '@material-ui/icons/Lens'\nimport moment from 'moment'\n\nclass DispatchEventListItem extends React.PureComponent {\n  renderTime(time) {\n    if (time.length < 13) {\n      // @todo поправить это на бекенде\n      time = `${time}000`\n    }\n    return moment(Number(time)).format('DD.MM.YY HH:mm')\n  }\n\n  render() {\n    const { index, style, data: { classes, list } = {} } = this.props\n    const item = list.Items[index]\n    return (\n      <div className={classes.item} style={style}>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_level}`}>\n          {!item.status ? (\n            <CheckCircleIcon className={classes.itemIcon} color=\"action\" />\n          ) : item.status.S === 'normal' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(46,204,113)' }}\n            />\n          ) : item.status.S === 'almin' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(252,118,0)' }}\n            />\n          ) : item.status.S === 'almaj' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(232,15,15)' }}\n            />\n          ) : (\n            <CheckCircleIcon className={classes.itemIcon} color=\"action\" />\n          )}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_device}`}>\n          {item.device.S}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_message}`}>\n          {(item.level.S === 'E')?(<b>Ошибка:</b>):((item.level.S === 'U')?(<b>Срочное сообщение: </b>):((item.level.S === 'W')?('Предупреждение:'):((item.level.S === 'I')?('Инфо:'):('Отладка:'))))}{item.message.S}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_time}`}>\n          {this.renderTime(item.time.N)}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DispatchEventListItem\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport { FixedSizeList as List } from 'react-window'\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\nimport DispatchEventListItem from './DispatchEventListItem'\n\nclass DispatchEventList extends React.PureComponent {\n  state = {}\n\n  render() {\n    const { classes, list, onClickThing } = this.props\n    if (!list) {\n      return null\n    }\n    return (\n      <AutoSizer>\n        {({ width, height }) => (\n          <List\n            className={classes.list}\n            width={width}\n            height={height}\n            itemCount={list.Items.length}\n            itemSize={48}\n            overscanCount={1}\n            itemData={{\n              classes,\n              list,\n              onClickThing,\n            }}\n          >\n            {DispatchEventListItem}\n          </List>\n        )}\n      </AutoSizer>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  item: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    '&:last-child': {\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    },\n  },\n  itemColumn: {\n    display: 'flex',\n    alignItems: 'center',\n    boxSizing: 'border-box',\n    minWidth: 0,\n    overflow: 'hidden',\n    //alignItems: 'center',\n    height: 48,\n    paddingLeft: 12,\n    paddingRight: 12,\n    lineHeight: '16px',\n    fontSize: '14px',\n    '&:first-child': {\n      paddingLeft: theme.spacing(3),\n    },\n  },\n  itemColumn_level: {\n    flex: `0 0 ${theme.spacing(3) + 24 + theme.spacing(3)}px`,\n    whiteSpace: 'nowrap',\n  },\n  itemColumn_device: {\n    flex: '0 1 20%',\n  },\n  itemColumn_message: {\n    flex: '1 1 40%',\n  },\n  itemColumn_time: {},\n  itemIcon: {\n    width: 16,\n    height: 16,\n    marginLeft: 4,\n  },\n})\n\nexport default withStyles(styles)(DispatchEventList)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { getUser } from '../../../../selectors/appSelectors'\nimport { fetchEventList } from '../../actions/EventListActions'\n\nimport DispatchEventList from './DispatchEventList'\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n  list: state.eventList.list,\n  listPending: state.eventList.listPending,\n  listError: state.eventList.listError,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchEventList: bindActionCreators(fetchEventList, dispatch),\n})\n\nclass DispatchEventListContainer extends React.PureComponent {\n  componentDidMount() {\n    this.props.fetchEventList()\n  }\n\n  render() {\n    return <DispatchEventList {...this.props} />\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchEventListContainer)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport Chip from '@material-ui/core/Chip'\n\nclass DispatchEventListFilter extends React.PureComponent {\n  state = {}\n\n  render() {\n    const { classes, filterByCat, filterByLevel, filterEventList } = this.props\n    return (\n      <div>\n        <Chip\n          className={classes.chip}\n          label=\"Все события\"\n          color={filterByCat === null ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat: null,\n              filterByLevel: null,\n            })\n          }}\n        />\n\n        <Chip className={classes.titleChip} label=\"Категория:\" />\n        <Chip\n          className={classes.chip}\n          label=\"Связь\"\n          color={filterByCat === 'con' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat: filterByCat !== 'con' ? 'con' : null,\n              filterByLevel,\n            })\n          }}\n        />\n        <Chip\n          className={classes.chip}\n          label=\"Охрана\"\n          color={filterByCat === 'sec' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat: filterByCat !== 'sec' ? 'sec' : null,\n              filterByLevel,\n            })\n          }}\n        />\n        <Chip\n          className={classes.chip}\n          label=\"Прочее\"\n          color={filterByCat === 'oth' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat: filterByCat !== 'oth' ? 'oth' : null,\n              filterByLevel,\n            })\n          }}\n        />\n\n        <Chip className={classes.titleChip} label=\"Важность:\" />\n        <Chip\n          className={classes.chip}\n          label=\"Срочные\"\n          color={filterByLevel === 'U' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat,\n              filterByLevel: filterByLevel !== 'U' ? 'U' : null,\n            })\n          }}\n        />\n        <Chip\n          className={classes.chip}\n          label=\"Ошибки\"\n          color={filterByLevel === 'E' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat,\n              filterByLevel: filterByLevel !== 'E' ? 'E' : null,\n            })\n          }}\n        />\n        <Chip\n          className={classes.chip}\n          label=\"Предупр\"\n          color={filterByLevel === 'W' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat,\n              filterByLevel: filterByLevel !== 'W' ? 'W' : null,\n            })\n          }}\n        />\n        <Chip\n          className={classes.chip}\n          label=\"Инфо\"\n          color={filterByLevel === 'I' ? 'secondary' : undefined}\n          onClick={() => {\n            filterEventList({\n              filterByCat,\n              filterByLevel: filterByLevel !== 'I' ? 'I' : null,\n            })\n          }}\n        />\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  chip: {\n    marginLeft: 8,\n    '&:first-child': {\n      marginLeft: 24,\n    },\n  },\n  titleChip: {\n    marginLeft: 24,\n    background: 'transparent',\n    '& > span': {\n      padding: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(DispatchEventListFilter)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport { getUser } from '../../../../selectors/appSelectors'\nimport { filterEventList } from '../../actions/EventListActions'\n\nimport DispatchEventListFilter from './DispatchEventListFilter'\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n  filterByCat: state.eventList.filterByCat,\n  filterByLevel: state.eventList.filterByLevel,\n  list: state.eventList.list,\n  listPending: state.eventList.listPending,\n  listError: state.eventList.listError,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  filterEventList: bindActionCreators(filterEventList, dispatch),\n})\n\nclass DispatchEventListFilterContainer extends React.PureComponent {\n  render() {\n    return <DispatchEventListFilter {...this.props} />\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchEventListFilterContainer)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport LensIcon from '@material-ui/icons/Lens' // import CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport NewReleasesIcon from '@material-ui/icons/NewReleases'\nimport HelpIcon from '@material-ui/icons/Help'\n\nclass ThingStatus extends React.PureComponent {\n  isDisconnected() {\n    const { thing, thingShadow } = this.props\n    let date\n    if (!thingShadow) {\n      date = new Date(Number(`${thing.msgtime}000`))\n    } else {\n      date = new Date(Number(`${thingShadow.state.reported.msgtime}000`))\n    }\n    const now = new Date()\n    if (now - date > 1000 * 60 * 60 * 2) {\n      return true\n    }\n    return false\n  }\n\n  getStatus() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.status\n    } else {\n      return thingShadow.state.reported.status\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    const disconnected = this.isDisconnected()\n    const status = this.getStatus()\n    return (\n      <React.Fragment>\n        {!hideIcon &&\n          (status === 'normal' ? (\n            <React.Fragment>\n              <LensIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(46,204,113)' }}\n              />\n            </React.Fragment>\n          ) : status === 'almin' ? (\n            <React.Fragment>\n              <ErrorIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(252,118,0)' }}\n              />\n            </React.Fragment>\n          ) : status === 'almaj' ? (\n            <React.Fragment>\n              <NewReleasesIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(232,15,15)' }}\n              />\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <HelpIcon className={classes.icon} color=\"action\" />\n            </React.Fragment>\n          ))}\n        {!hideLabel && <span className={classes.label}>Статус</span>}\n        {!hideValue &&\n          (status === 'normal' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (норма)\n                </span>\n              ) : (\n                <span>Норма</span>\n              )}\n            </React.Fragment>\n          ) : status === 'almin' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (нарушение)\n                </span>\n              ) : (\n                <span>Нарушение</span>\n              )}\n            </React.Fragment>\n          ) : status === 'almaj' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (авария)\n                </span>\n              ) : (\n                <span>Авария</span>\n              )}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (неизвестно)\n                </span>\n              ) : (\n                <span>Неизвестно</span>\n              )}\n            </React.Fragment>\n          ))}\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n})\n\nexport default withStyles(styles)(ThingStatus)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nclass ThingIdentity extends React.PureComponent {\n  render() {\n    const { classes, thing, addressById, groupById } = this.props\n    if (!thing) {\n      return null\n    }\n\n    return (\n      <span className={classes.root} title={thing.device}>\n        {!!thing.address_id &&\n        !!addressById &&\n        !!addressById[thing.address_id] &&\n        !!addressById[thing.address_id].comment ? (\n          <span>{addressById[thing.address_id].comment.S}</span>\n        ) : (\n          <span>Неизвестно</span>\n        )}\n        {!!thing.address_id &&\n        !!addressById &&\n        !!addressById[thing.address_id] ? (\n          <span>{addressById[thing.address_id].name.S}</span>\n        ) : (\n          <span>Неизвестно</span>\n        )}\n        {!!thing.group_id && !!groupById && !!groupById[thing.group_id] ? (\n          <span>{groupById[thing.group_id].name.S}</span>\n        ) : (\n          <span>Неизвестно</span>\n        )}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    '& > span': {\n      '&:not(:last-child)::after': {\n        display: 'inline',\n        content: '\", \"',\n      },\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingIdentity)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive'\nimport NotificationsIcon from '@material-ui/icons/NotificationsOutlined'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nclass ThingAlarm extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.alarm === true || thing.alarm === 'true'\n    } else {\n      return thingShadow.state.reported.alarm === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      whenActive = null,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (hideLabel || hideValue ? (\n            <Tooltip\n              title={\n                <span className={classes.tooltip}>\n                  Сигнализация: <span>{this.renderValue()}</span>\n                </span>\n              }\n            >\n              {this.renderIcon()}\n            </Tooltip>\n          ) : (\n            this.renderIcon()\n          ))}\n        {!hideLabel && <span className={classes.label}>Сигнализация</span>}\n        {!hideValue && this.renderValue()}\n        {whenActive && this.isActive() && whenActive}\n      </span>\n    )\n  }\n\n  renderIcon() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <NotificationsActiveIcon\n        className={`${classes.icon} ${classes.icon_textPrimary}`}\n      />\n    ) : (\n      <NotificationsIcon\n        className={`${classes.icon} ${classes.icon_textSecondary}`}\n      />\n    )\n  }\n\n  renderValue() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <strong className={classes.value}>Активна</strong>\n    ) : (\n      <span className={classes.value}>Неактивна</span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n  tooltip: {\n    fontWeight: 'normal',\n    '& > span': {\n      textTransform: 'lowercase',\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingAlarm)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Tooltip from '@material-ui/core/Tooltip'\nimport LockIcon from '@material-ui/icons/LockOutlined'\n//import SvgIcon from '@material-ui/core/SvgIcon'\n//import MdiIcon from '@mdi/react'\n//import { mdiLockOpen } from '@mdi/js'\n\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon'\n\nconst LockOpenIcon = createSvgIcon(\n  <path d=\"M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6C4.89,22 4,21.1 4,20V10A2,2 0 0,1 6,8H15V6A3,3 0 0,0 12,3A3,3 0 0,0 9,6H7A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,17A2,2 0 0,0 14,15A2,2 0 0,0 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17Z\" />,\n  'LockOpen'\n)\n\nclass ThingGuard extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.guard === true || thing.guard === 'true'\n    } else {\n      return thingShadow.state.reported.guard === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      whenActive,\n      whenInactive,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (hideLabel || hideValue ? (\n            <Tooltip\n              title={\n                <span className={classes.tooltip}>\n                  Охрана объекта: <span>{this.renderValue()}</span>\n                </span>\n              }\n            >\n              {this.renderIcon()}\n            </Tooltip>\n          ) : (\n            this.renderIcon()\n          ))}\n        {!hideLabel && <span className={classes.label}>Охрана объекта</span>}\n        {!hideValue && this.renderValue()}\n        {whenActive && this.isActive() && whenActive}\n        {whenInactive && !this.isActive() && whenInactive}\n      </span>\n    )\n  }\n\n  renderIcon() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <LockIcon className={`${classes.icon} ${classes.icon_textSecondary}`} />\n    ) : (\n      <LockOpenIcon className={`${classes.icon} ${classes.icon_textPrimary}`} />\n    )\n  }\n\n  renderValue() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <span className={classes.value}>Включена</span>\n    ) : (\n      <strong className={classes.value}>Отключена</strong>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n  tooltip: {\n    fontWeight: 'normal',\n    '& > span': {\n      textTransform: 'lowercase',\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingGuard)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Tooltip from '@material-ui/core/Tooltip'\nimport PowerIcon from '@material-ui/icons/PowerOutlined'\nimport PowerOffIcon from '@material-ui/icons/PowerOff'\n\nclass ThingPower extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.pwr === true || thing.pwr === 'true'\n    } else {\n      return thingShadow.state.reported.pwr === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (hideLabel || hideValue ? (\n            <Tooltip\n              title={\n                <span className={classes.tooltip}>\n                  Питание: <span>{this.renderValue()}</span>\n                </span>\n              }\n            >\n              {this.renderIcon()}\n            </Tooltip>\n          ) : (\n            this.renderIcon()\n          ))}\n        {!hideLabel && <span className={classes.label}>Питание</span>}\n        {!hideValue && this.renderValue()}\n      </span>\n    )\n  }\n\n  renderIcon() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <PowerIcon className={`${classes.icon} ${classes.icon_textSecondary}`} />\n    ) : (\n      <PowerOffIcon className={`${classes.icon} ${classes.icon_textPrimary}`} />\n    )\n  }\n\n  renderValue() {\n    const { classes } = this.props\n    return this.isActive() ? (\n      <span className={classes.value}>Поступает</span>\n    ) : (\n      <strong className={classes.value}>Не поступает</strong>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingPower)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\n////import ImportExportIcon from '@material-ui/icons/ImportExport'\n//import MdiIcon from '@mdi/react'\n//import { mdiEthernetCable, mdiAccessPoint } from '@mdi/js'\n\nimport Tooltip from '@material-ui/core/Tooltip'\nimport createSvgIcon from '@material-ui/icons/utils/createSvgIcon'\n\nconst EthernetCableIcon = createSvgIcon(\n  <path d=\"M11,3V7H13V3H11M8,4V11H16V4H14V8H10V4H8M10,12V22H14V12H10Z\" />,\n  'LockOpen'\n)\n\nconst AccessPointIcon = createSvgIcon(\n  <path d=\"M4.93,4.93C3.12,6.74 2,9.24 2,12C2,14.76 3.12,17.26 4.93,19.07L6.34,17.66C4.89,16.22 4,14.22 4,12C4,9.79 4.89,7.78 6.34,6.34L4.93,4.93M19.07,4.93L17.66,6.34C19.11,7.78 20,9.79 20,12C20,14.22 19.11,16.22 17.66,17.66L19.07,19.07C20.88,17.26 22,14.76 22,12C22,9.24 20.88,6.74 19.07,4.93M7.76,7.76C6.67,8.85 6,10.35 6,12C6,13.65 6.67,15.15 7.76,16.24L9.17,14.83C8.45,14.11 8,13.11 8,12C8,10.89 8.45,9.89 9.17,9.17L7.76,7.76M16.24,7.76L14.83,9.17C15.55,9.89 16,10.89 16,12C16,13.11 15.55,14.11 14.83,14.83L16.24,16.24C17.33,15.15 18,13.65 18,12C18,10.35 17.33,8.85 16.24,7.76M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z\" />,\n  'LockOpen'\n)\n\nclass ThingConnection extends React.PureComponent {\n  isEthernet() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.conn === 'eth'\n    } else {\n      return thingShadow.state.reported.conn === 'eth'\n    }\n  }\n\n  isGsm() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.conn === 'gsm'\n    } else {\n      return thingShadow.state.reported.conn === 'gsm'\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (hideLabel || hideValue ? (\n            <Tooltip\n              title={\n                <span className={classes.tooltip}>\n                  Активный канал: <span>{this.renderValue()}</span>\n                </span>\n              }\n            >\n              {this.renderIcon()}\n            </Tooltip>\n          ) : (\n            this.renderIcon()\n          ))}\n        {!hideLabel && <span className={classes.label}>Активный канал</span>}\n        {!hideValue && this.renderValue()}\n      </span>\n    )\n  }\n\n  renderIcon() {\n    const { classes } = this.props\n    return this.isEthernet() ? (\n      <EthernetCableIcon\n        className={`${classes.icon} ${classes.icon_textSecondary}`}\n      />\n    ) : (\n      <AccessPointIcon\n        className={`${classes.icon} ${classes.icon_textSecondary}`}\n      />\n    )\n  }\n\n  renderValue() {\n    const { classes } = this.props\n    return this.isEthernet() ? (\n      <span className={classes.value}>Ethernet</span>\n    ) : this.isGsm() ? (\n      <span className={classes.value}>GSM</span>\n    ) : (\n      <span className={classes.value}>Неизвестно</span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingConnection)\n","import React from 'react'\r\n\r\nimport moment from 'moment'\r\nimport ThingStatus from '../../../../components/Thing/ThingStatus'\r\nimport ThingIdentity from '../../../../components/Thing/ThingIdentity'\r\nimport ThingAlarm from '../../../../components/Thing/ThingAlarm'\r\nimport ThingGuard from '../../../../components/Thing/ThingGuard'\r\nimport ThingPower from '../../../../components/Thing/ThingPower'\r\nimport ThingConnection from '../../../../components/Thing/ThingConnection'\r\nimport Link from '@material-ui/core/Link'\r\n\r\nclass DispatchThingListItem extends React.PureComponent {\r\n  isDisconnectedThing(thing) {\r\n    const ts = new Date(Number(`${thing.msgtime}000`))\r\n    const now = new Date()\r\n    if (now - ts > 1000 * 60 * 60 * 2) {\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      index,\r\n      style,\r\n      data: { classes, data, addressById, groupById, onClickThing } = {},\r\n    } = this.props\r\n    const thing = data[index]\r\n    const now = new Date()\r\n    const msgtime = Number(`${thing.msgtime}000`)\r\n    const msgtimeMoment = moment(msgtime)\r\n    const disconnected = this.isDisconnectedThing(thing)\r\n    let disconnectedHours\r\n    if (disconnected) {\r\n      if (now - msgtime > 1000 * 60 * 60 * 24) {\r\n        disconnectedHours = 24\r\n      } else if (now - msgtime > 1000 * 60 * 60 * 2) {\r\n        disconnectedHours = 2\r\n      }\r\n    }\r\n    return (\r\n      <div\r\n        className={`${classes.item} ${\r\n          disconnected ? classes.item_noConnection : ''\r\n        }`}\r\n        style={style}\r\n      >\r\n        <div className={`${classes.itemColumn} ${classes.itemColumn_status}`}>\r\n          <ThingStatus thing={thing} hideLabel hideValue />\r\n        </div>\r\n        <div className={`${classes.itemColumn} ${classes.itemColumn_object}`}>\r\n          <Link\r\n            onClick={() => {\r\n              onClickThing(thing)\r\n            }}\r\n          >\r\n            <ThingIdentity\r\n              thing={thing}\r\n              addressById={addressById}\r\n              groupById={groupById}\r\n            />\r\n          </Link>\r\n        </div>\r\n        <div className={`${classes.itemColumn} ${classes.itemColumn_problems}`}>\r\n          <div>\r\n            {disconnected && (\r\n              <strong>Нет&nbsp;связи более&nbsp;{disconnectedHours}ч</strong>\r\n            )}\r\n            {(thing.alarm === true || thing.alarm === 'true') && (\r\n              <strong>Сигнализация включена</strong>\r\n            )}\r\n            {thing.rssi && thing.rssi < -92 && (\r\n              <strong>Плохой сигнал GSM</strong>\r\n            )}\r\n            {thing.tamper &&\r\n              (thing.tamper === true || thing.tamper === 'true') && (\r\n                <strong>Вскрытие корпуса</strong>\r\n              )}\r\n            {thing.pwr && !(thing.pwr === true || thing.pwr === 'true') && (\r\n              <strong>Нет&nbsp;питания</strong>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={`${classes.itemColumn} ${classes.itemColumn_details}`}>\r\n          <ThingAlarm hideLabel hideValue thing={thing} />\r\n          <ThingGuard hideLabel hideValue thing={thing} />\r\n          <ThingPower hideLabel hideValue thing={thing} />\r\n          <ThingConnection hideLabel hideValue thing={thing} />\r\n          {/*<span>\r\n            Активный канал -&nbsp;\r\n            {thing.conn === 'eth'\r\n              ? 'Ethernet'\r\n              : thing.conn === 'wifi'\r\n                ? 'Wi-Fi'\r\n                : thing.conn === 'gsm' ? 'GSM' : 'Неизвестно'}&nbsp; |\r\n            Объект&nbsp;\r\n            {thing.guard === true || thing.guard === 'true' ? (\r\n              'на охране'\r\n            ) : (\r\n              <b>не на охране</b>\r\n            )}\r\n            {thing.temperature !== undefined ? (\r\n              <span>&nbsp;| {thing.temperature} ºC</span>\r\n            ) : null}\r\n          </span>*/}\r\n        </div>\r\n        <div className={`${classes.itemColumn} ${classes.itemColumn_updated}`}>\r\n          <time\r\n            dateTime={msgtimeMoment.format('DD.MM.YY HH:mm')}\r\n            title={msgtimeMoment.format('YYYY-MM-DD HH:mm')}\r\n          >\r\n            {moment\r\n              .duration(msgtime - now)\r\n              .locale('ru')\r\n              .humanize(true)}\r\n          </time>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DispatchThingListItem\r\n","import React from 'react'\r\nimport { withStyles } from '@material-ui/styles'\r\n\r\nimport { FixedSizeList as List } from 'react-window'\r\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\r\nimport Box from '@material-ui/core/Box'\r\nimport DispatchThingListItem from './DispatchThingListItem'\r\nimport { filterRows } from '../../../../services/CsvShkaService'\r\n\r\nclass DispatchThingList extends React.PureComponent {\r\n  state = {\r\n    data: null,\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { onFetchThingList } = this.props\r\n    onFetchThingList()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    const { thingListParams, thingList } = this.props\r\n    if (\r\n      thingList &&\r\n      (thingListParams !== prevProps.thingListParams ||\r\n        thingList !== prevProps.thingList)\r\n    ) {\r\n      const data = filterRows(thingList, thingListParams)\r\n      this.setState({\r\n        data,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, addressById, groupById, onClickThing } = this.props\r\n    const { data } = this.state\r\n    if (!data || !addressById || !groupById) {\r\n      return null\r\n    }\r\n    return (\r\n      <Box flexGrow={1} display=\"flex\" flexDirection=\"column\">\r\n        <Box>\r\n          <div className={`${classes.head}`}>\r\n            <div\r\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\r\n            >\r\n              Статус\r\n            </div>\r\n            <div\r\n              className={`${classes.itemColumn} ${classes.itemColumn_object}`}\r\n            >\r\n              Объект\r\n            </div>\r\n            <div\r\n              className={`${classes.itemColumn} ${classes.itemColumn_problems}`}\r\n            >\r\n              Проблемные ситуации\r\n            </div>\r\n            <div\r\n              className={`${classes.itemColumn} ${classes.itemColumn_details}`}\r\n            >\r\n              Состояние\r\n            </div>\r\n            <div\r\n              className={`${classes.itemColumn} ${classes.itemColumn_updated}`}\r\n            >\r\n              Обновлено\r\n            </div>\r\n          </div>\r\n        </Box>\r\n        <Box flexGrow={1} position=\"relative\">\r\n          <AutoSizer>\r\n            {({ width, height }) => (\r\n              <List\r\n                className={classes.list}\r\n                width={width}\r\n                height={height}\r\n                itemCount={data.length}\r\n                itemSize={48}\r\n                overscanCount={1}\r\n                itemData={{\r\n                  classes,\r\n                  data,\r\n                  addressById,\r\n                  groupById,\r\n                  onClickThing,\r\n                }}\r\n              >\r\n                {DispatchThingListItem}\r\n              </List>\r\n            )}\r\n          </AutoSizer>\r\n        </Box>\r\n      </Box>\r\n    )\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  root: {},\r\n  head: {\r\n    display: 'flex',\r\n    flexWrap: 'nowrap',\r\n    alignItems: 'start',\r\n    WebkitBoxOrient: 'horizontal',\r\n    WebkitBoxDirection: 'normal',\r\n    WebkitBoxAlign: 'start',\r\n    marginTop: -12,\r\n    '& $itemColumn': {\r\n      height: 24,\r\n      whiteSpace: 'nowrap',\r\n    },\r\n  },\r\n  item: {\r\n    display: 'flex',\r\n    flexWrap: 'nowrap',\r\n    alignItems: 'start',\r\n    WebkitBoxOrient: 'horizontal',\r\n    WebkitBoxDirection: 'normal',\r\n    WebkitBoxAlign: 'start',\r\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\r\n    '&:last-child': {\r\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\r\n    },\r\n  },\r\n  item_noConnection: {\r\n    '& $itemColumn_details': {\r\n      opacity: 0.37,\r\n    },\r\n  },\r\n  itemColumn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    boxSizing: 'content-box',\r\n    minWidth: 0,\r\n    overflow: 'hidden',\r\n    //alignItems: 'center',\r\n    height: 48,\r\n    paddingLeft: 12,\r\n    paddingRight: 12,\r\n    lineHeight: '16px',\r\n    fontSize: '14px',\r\n    '&:first-child': {\r\n      paddingLeft: theme.spacing(3),\r\n    },\r\n  },\r\n  itemColumn_status: {\r\n    boxSizing: 'border-box',\r\n    flex: `0 0 ${theme.spacing(3) + 24 + theme.spacing(3)}px`,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  itemColumn_object: {\r\n    flex: '0 1 30%',\r\n    '& > a': {\r\n      cursor: 'pointer',\r\n    },\r\n  },\r\n  itemColumn_problems: {\r\n    flex: '0 1 20%',\r\n    '& strong': {\r\n      '&:not(:first-child)': {\r\n        textTransform: 'lowercase',\r\n      },\r\n      '&:not(:last-child)::after': {\r\n        content: '\",\"',\r\n        marginRight: 4,\r\n      },\r\n    },\r\n  },\r\n  itemColumn_details: {\r\n    flex: '1 1 20%',\r\n    minWidth: 160,\r\n  },\r\n  itemColumn_updated: {\r\n    flex: `0 0 ${theme.spacing(3) + 60 + theme.spacing(3)}px`,\r\n    whiteSpace: 'nowrap',\r\n  },\r\n})\r\n\r\nexport default withStyles(styles)(DispatchThingList)\r\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { fetchThingList, openThing } from '../../actions/ThingListActions'\nimport DispatchThingList from './DispatchThingList'\n\nconst mapStateToProps = state => ({\n  thingListParams: state.dispatch.filter.params,\n  thingList: state.thingList.data,\n  thingListPending: state.thingList.dataPending,\n  thingListError: state.thingList.dataError,\n  addressById: state.addressList.list ? state.addressList.listItemById : null,\n  groupById: state.groupsList.list ? state.groupsList.listItemById : null,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onFetchThingList: bindActionCreators(fetchThingList, dispatch),\n  onClickThing: bindActionCreators(openThing, dispatch),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchThingList)\n","import React from 'react'\n\nimport { withStyles } from '@material-ui/styles'\nimport { withRouter } from 'react-router'\n\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport NativeSelect from '@material-ui/core/NativeSelect'\n\nimport { parse, stringify } from 'query-string'\nimport Box from '@material-ui/core/Box'\n\nconst PARAMS = {\n  address: null,\n  noPower: false,\n  noConnection2h: false,\n  noConnection24h: false,\n  noEthernet: false,\n  lowGsm: false,\n  activeEthernet: false,\n  activeGsm: false,\n  noConnection: false,\n  statusNormal: false,\n  statusAlmin: false,\n  statusAlmaj: false,\n}\n\nclass DispatchThingListFilter extends React.PureComponent {\n  state = {\n    params: {\n      ...PARAMS,\n    },\n  }\n\n  componentDidMount() {\n    const {\n      location: { search },\n      setParams,\n    } = this.props\n    const searchParams = parse(search)\n    const params = Object.keys(PARAMS).reduce((params, k) => {\n      switch (k) {\n        case 'address': {\n          params[k] = searchParams[k] || null\n          break\n        }\n        default: {\n          params[k] = !!searchParams[k]\n        }\n      }\n      return searchParams\n    }, {})\n    setParams(params)\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.params !== this.props.params) {\n      const { params } = this.props\n      this.setState({ params })\n    }\n  }\n\n  handleChangeAddress = ({ target: { value: address } }) => {\n    this.setState({\n      params: {\n        ...this.state.params,\n        address,\n      },\n    })\n  }\n\n  handleChangeCheckbox = ({ target: { value, checked } }) => {\n    this.setState({\n      params: {\n        ...this.state.params,\n        [value]: checked,\n      },\n    })\n  }\n\n  handleSubmit = () => {\n    let hasParams = false\n    const searchParamsOrder = []\n    const searchParams = Object.entries(this.state.params).reduce(\n      (searchParams, [k, v]) => {\n        if (!hasParams && v) {\n          hasParams = true\n        }\n        searchParamsOrder.push(k)\n        searchParams[k] = v || undefined\n        return searchParams\n      },\n      {}\n    )\n    const { history, location } = this.props\n    if (!hasParams) {\n      history.push(location.pathname)\n    } else {\n      const search = stringify(searchParams, {\n        sort: (a, b) =>\n          searchParamsOrder.indexOf(a) - searchParamsOrder.indexOf(b),\n      })\n      history.push(`${location.pathname}?${search}`)\n    }\n    this.props.setParams(this.state.params)\n  }\n\n  isSubmitted() {\n    return (\n      JSON.stringify(this.state.params) === JSON.stringify(this.props.params)\n    )\n  }\n\n  render() {\n    const { classes, groupsList } = this.props\n    return (\n      <div className={classes.root}>\n        <Box\n          position=\"absolute\"\n          style={{ top: 0, right: 0, bottom: -1, left: 0, overflowY: 'auto' }}\n          p={2}\n        >\n          <Typography className={classes.heading} variant=\"h6\" paragraph>\n            Фильтр объектов\n          </Typography>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Округ\n          </Typography>\n          <NativeSelect\n            className={classes.address}\n            classes={{ select: classes.addressSelect }}\n            value={this.state.params.address || ''}\n            onChange={this.handleChangeAddress}\n            fullWidth\n          >\n            <option value={''} style={{ color: '#aaa' }}>\n              Выберите округ\n            </option>\n            {!!groupsList &&\n              !!groupsList.Items &&\n              groupsList.Items.map(item => (\n                <option key={item.id.N} value={item.id.N}>\n                  {item.name.S}\n                </option>\n              ))}\n          </NativeSelect>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Состояние\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Норма\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusNormal\"\n                  checked={this.state.params.statusNormal}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нарушение\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusAlmin\"\n                  checked={this.state.params.statusAlmin}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Авария\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusAlmaj\"\n                  checked={this.state.params.statusAlmaj}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection\"\n                  checked={this.state.params.noConnection}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Связь\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Активный канал Ethernet\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"activeEthernet\"\n                  checked={this.state.params.activeEthernet}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Активный канал GSM\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"activeGsm\"\n                  checked={this.state.params.activeGsm}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи более 2 ч.\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection2h\"\n                  checked={this.state.params.noConnection2h}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи более 24 ч.\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection24h\"\n                  checked={this.state.params.noConnection24h}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Отключен Ethernet\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noEthernet\"\n                  checked={this.state.params.noEthernet}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Низкий уровень приема GSM\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"lowGsm\"\n                  checked={this.state.params.lowGsm}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Другое\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Отключено питание\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noPower\"\n                  checked={this.state.params.noPower}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Аномалии в данных\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  //checked={this.state.params.noPower}\n                  //onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Button\n            className={classes.submit}\n            variant={this.isSubmitted() ? 'outlined' : 'contained'}\n            color=\"secondary\"\n            onClick={this.handleSubmit}\n            fullWidth\n          >\n            Применить\n          </Button>\n        </Box>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    position: 'relative',\n    width: '15%',\n    minWidth: 240,\n    margin: theme.spacing(2),\n    //padding: theme.spacing(2),\n    color: '#fff',\n    background: 'rgba(25,25,25,1)',\n    borderRadius: theme.shape.borderRadius,\n    boxShadow: '1px 1px 2px rgba(25,25,25,.16)',\n  },\n  heading: {},\n  subtitle: {\n    marginTop: theme.spacing(2),\n    fontWeight: 700,\n  },\n  address: {\n    marginTop: theme.spacing(1.5),\n    marginBottom: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: theme.shape.borderRadius,\n    '&::before': {\n      borderBottomColor: 'transparent !important',\n    },\n  },\n  addressSelect: {\n    padding: theme.spacing(1, 3, 1, 1.5),\n  },\n  checkboxControl: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  checkboxControlLabel: {\n    ...theme.typography.body2,\n    fontSize: '12px',\n    paddingTop: 2,\n  },\n  checkbox: {\n    color: theme.palette.primary.main,\n  },\n  submit: {\n    marginTop: theme.spacing(2.5),\n  },\n})\n\nexport default withRouter(withStyles(styles)(DispatchThingListFilter))\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { setDispatchFilterParams } from '../../actions/DispatchActions'\n\nimport DispatchThingListFilter from './DispatchThingListFilter'\n\nconst mapStateToProps = state => ({\n  params: state.dispatch.filter.params,\n  addressList: state.addressList.list,\n  addressListPending: state.addressList.listPending,\n  addressListError: state.addressList.listError,\n  groupsList: state.groupsList.list,\n  groupsListPending: state.groupsList.listPending,\n  groupsListError: state.groupsList.listError,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setParams: bindActionCreators(setDispatchFilterParams, dispatch),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchThingListFilter)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Container from '@material-ui/core/Container'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n//import DialogActions from '@material-ui/core/DialogActions'\n//import Button from '@material-ui/core/Button'\nimport ThingIdentity from '../../../../components/Thing/ThingIdentity'\n\nclass DispatchThingDialog extends React.PureComponent {\n  render() {\n    const {\n      classes,\n      open,\n      onClose,\n      thing,\n      thingDetailsComponent: ThingDetails,\n      addressById,\n      groupById,\n    } = this.props\n    return (\n      <Dialog\n        classes={{\n          container: classes.dialogContainer,\n          paper: classes.dialogPaper,\n        }}\n        open={open}\n        onClose={onClose}\n        maxWidth=\"md\"\n        fullWidth\n      >\n        <AppBar\n          className={classes.dialogBar}\n          position=\"static\"\n          color=\"primary\"\n          elevation={0}\n        >\n          <Container maxWidth={false}>\n            <Toolbar disableGutters>\n              <Typography\n                className={classes.dialogBarTitle}\n                variant=\"h6\"\n                color=\"inherit\"\n              >\n                Контроллер{' '}\n                <ThingIdentity\n                  thing={thing}\n                  addressById={addressById}\n                  groupById={groupById}\n                />\n              </Typography>\n\n              <IconButton color=\"inherit\" edge=\"end\" onClick={onClose}>\n                <CloseIcon color=\"inherit\" />\n              </IconButton>\n            </Toolbar>\n          </Container>\n        </AppBar>\n\n        <DialogContent className={classes.dialogContent}>\n          <Container maxWidth={false}>\n            {open && thing && <ThingDetails thing={thing} />}\n          </Container>\n        </DialogContent>\n\n        {/*<DialogActions className={classes.dialogActions}>\n          <Button\n            className={classes.dialogAction}\n            variant=\"outlined\"\n            color=\"default\"\n            onClick={onClose}\n          >\n            Закрыть\n          </Button>\n        </DialogActions>*/}\n      </Dialog>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  dialogContainer: {\n    alignItems: 'start',\n  },\n  dialogPaper: {\n    marginTop: 56 + 16,\n  },\n  dialogBar: {\n    backgroundColor: 'rgba(25,25,25,1)', // @todo вынести цвет в тему\n  },\n  dialogBarTitle: {\n    flexGrow: 1,\n  },\n  dialogContent: {\n    padding: theme.spacing(3, 0),\n  },\n  dialogActions: {\n    padding: theme.spacing(1),\n    justifyContent: 'flex-start',\n  },\n  dialogAction: {\n    padding: theme.spacing(1, 3),\n  },\n})\n\nexport default withStyles(styles)(DispatchThingDialog)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport moment from 'moment'\nimport 'moment/locale/ru'\n\nimport ScheduleIcon from '@material-ui/icons/Schedule'\n\nclass ThingUpdated extends React.PureComponent {\n  getValue() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return moment(Number(`${thing.msgtime}000`)).format('DD.MM.YY HH:mm')\n    } else {\n      return moment(Number(`${thingShadow.state.reported.msgtime}000`)).format(\n        'DD.MM.YY HH:mm'\n      )\n    }\n  }\n\n  getValueDuration() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return moment\n        .duration(Number(`${thing.msgtime}000`) - new Date().getTime())\n        .locale('ru')\n        .humanize(true)\n    } else {\n      return moment\n        .duration(\n          Number(`${thingShadow.state.reported.msgtime}000`) -\n            new Date().getTime()\n        )\n        .locale('ru')\n        .humanize(true)\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      hideValueDuration = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon && (\n          <ScheduleIcon\n            className={`${classes.icon} ${classes.icon_textSecondary}`}\n          />\n        )}\n        {!hideLabel && <span className={classes.label}>Обновлено</span>}\n        {!hideValue && <span className={classes.value}>{this.getValue()}</span>}\n        {!hideValueDuration && (\n          <span className={classes.valueDuration}>\n            {this.getValueDuration()}\n          </span>\n        )}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingUpdated)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport LensIcon from '@material-ui/icons/Lens' // import CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport NewReleasesIcon from '@material-ui/icons/NewReleases'\nimport HelpIcon from '@material-ui/icons/Help'\n\nclass SensorStatus extends React.PureComponent {\n  state = {}\n\n  render() {\n    const { classes, sensor } = this.props\n    if (!sensor) {\n      return null\n    }\n    return (\n      <React.Fragment>\n        {sensor.status === 'normal' || sensor.status === 'online' ? (\n          <React.Fragment>\n            <LensIcon\n              className={classes.icon}\n              style={{ color: 'rgb(46,204,113)' }}\n            />\n            <span>Норма</span>\n          </React.Fragment>\n        ) : sensor.status === 'almin' || sensor.status === 'offline' ? (\n          <React.Fragment>\n            <ErrorIcon\n              className={classes.icon}\n              style={{ color: 'rgb(252,118,0)' }}\n            />\n            <span>Нарушение</span>\n          </React.Fragment>\n        ) : sensor.status === 'almaj' ? (\n          <React.Fragment>\n            <NewReleasesIcon\n              className={classes.icon}\n              style={{ color: 'rgb(232,15,15)' }}\n            />\n            <span>Авария</span>\n          </React.Fragment>\n        ) : sensor.status === 'waiting' ? (\n          <React.Fragment>\n            <HelpIcon className={classes.icon} color=\"action\" />\n            <span>Ожидание</span>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <HelpIcon className={classes.icon} color=\"action\" />\n            <span>Неизвестно</span>\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    width: 16,\n    height: 16,\n    marginLeft: 4,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n})\n\nexport default withStyles(styles)(SensorStatus)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport SensorStatus from '../Sensor/SensorStatus'\n\nclass ThingSensors extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: '20%' }}>Статус</TableCell>\n              <TableCell style={{ width: '30%' }}>Название</TableCell>\n              <TableCell style={{ width: '20%' }}>Роль</TableCell>\n              <TableCell>Показания</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              thingShadow.state.reported.ain &&\n              thingShadow.state.reported.ain.map((sensor, i) => (\n                <TableRow key={i}>\n                  <TableCell>\n                    <SensorStatus sensor={sensor} />\n                  </TableCell>\n                  <TableCell>{sensor.name}</TableCell>\n                  <TableCell>{sensor.role}</TableCell>\n                  <TableCell>{sensor.value}</TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingSensors)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\n\nclass ThingDin extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: '70%' }}>Название</TableCell>\n              <TableCell>Показания</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              !!thingShadow.state.reported.din &&\n              thingShadow.state.reported.din.map((item, i) => (\n                <TableRow key={i}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {item.name}\n                  </TableCell>\n                  <TableCell>{item.value}</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingDin)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Switch from '@material-ui/core/Switch'\n\nclass ThingDout extends React.PureComponent {\n  isItemDesired(i) {\n    const {\n      thingShadow: {\n        state: { desired, reported },\n      },\n    } = this.props\n    if (desired) {\n      const desiredDout = desired.dout\n      const reportedDout = reported.dout\n      if (desiredDout && desiredDout[i].value !== reportedDout[i].value) {\n        return true\n      }\n    }\n    return false\n  }\n\n  getItemValue(i) {\n    const { thingShadow, unsavedState } = this.props\n    if (unsavedState !== undefined) {\n      return unsavedState[i].value\n    } else {\n      if (thingShadow.state.desired && thingShadow.state.desired.dout) {\n        return thingShadow.state.desired.dout[i].value\n      } else if (\n        thingShadow.state.reported &&\n        thingShadow.state.reported.dout\n      ) {\n        return thingShadow.state.reported.dout[i].value\n      }\n    }\n  }\n\n  render() {\n    const { classes, thing, thingShadow, onChangeState } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: '70%' }}>Название</TableCell>\n              <TableCell>Показания</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              !!thingShadow.state.reported.dout &&\n              thingShadow.state.reported.dout.map((item, i) => (\n                <TableRow key={i}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {item.name}\n                  </TableCell>\n                  <TableCell>{this.getItemValue(i)}</TableCell>\n                  <TableCell>\n                    <Box display=\"inline-flex\" alignItems=\"center\">\n                      {this.isItemDesired(i) && (\n                        <CircularProgress style={{ width: 20, height: 20 }} />\n                      )}\n                      <Switch\n                        color={this.isItemDesired(i) ? 'primary' : 'secondary'}\n                        disabled={!thingShadow}\n                        checked={!!this.getItemValue(i)}\n                        onChange={({ target: { checked: on } }) => {\n                          onChangeState(i, on)\n                        }}\n                      />\n                    </Box>\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      height: 48,\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th': {\n      width: '37%',\n    },\n    '& tbody td:last-child': {\n      width: 1,\n      paddingRight: 0,\n      textAlign: 'right',\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingDout)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport Switch from '@material-ui/core/Switch'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nclass ThingRelays extends React.PureComponent {\n  isItemDesired(i) {\n    const {\n      thingShadow: {\n        state: { desired, reported },\n      },\n    } = this.props\n    if (desired) {\n      const desiredRelay = desired.relay\n      const reportedRelay = reported.relay\n      if (desiredRelay && desiredRelay[i].value !== reportedRelay[i].value) {\n        return true\n      }\n    }\n    return false\n  }\n\n  getItemValue(i) {\n    const { thingShadow, unsavedState } = this.props\n    if (unsavedState !== undefined) {\n      return unsavedState[i].value\n    } else {\n      if (thingShadow.state.desired && thingShadow.state.desired.relay) {\n        return thingShadow.state.desired.relay[i].value\n      } else if (\n        thingShadow.state.reported &&\n        thingShadow.state.reported.relay\n      ) {\n        return thingShadow.state.reported.relay[i].value\n      }\n    }\n  }\n\n  render() {\n    const { classes, thing, thingShadow, onChangeState } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: '70%' }}>Реле</TableCell>\n              <TableCell>Показания</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              !!thingShadow.state.reported.relay &&\n              thingShadow.state.reported.relay.map((relay, i) => (\n                <TableRow key={i}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    {relay.name}\n                  </TableCell>\n                  <TableCell>\n                    {!!this.getItemValue(i) ? 'включено' : 'выключено'}\n                  </TableCell>\n                  <TableCell>\n                    <Box display=\"inline-flex\" alignItems=\"center\">\n                      {this.isItemDesired(i) && (\n                        <CircularProgress style={{ width: 20, height: 20 }} />\n                      )}\n                      <Switch\n                        color={this.isItemDesired(i) ? 'primary' : 'secondary'}\n                        disabled={!thingShadow}\n                        checked={!!this.getItemValue(i)}\n                        onChange={({ target: { checked: on } }) => {\n                          onChangeState(i, on)\n                        }}\n                      />\n                    </Box>\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      height: 48,\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th': {\n      width: '37%',\n    },\n    '& tbody td:last-child': {\n      width: 1,\n      paddingRight: 0,\n      textAlign: 'right',\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingRelays)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport SensorStatus from '../Sensor/SensorStatus'\n\nclass ThingBusDevices extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow, bus } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    if (!bus) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: '20%' }}>Статус</TableCell>\n              <TableCell style={{ width: '50%' }}>Название</TableCell>\n              <TableCell>Показания</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              thingShadow.state.reported[bus] &&\n              thingShadow.state.reported[bus].map((item, i) => {\n                return (\n                  <TableRow key={i}>\n                    <TableCell>\n                      <SensorStatus sensor={item} />\n                    </TableCell>\n                    <TableCell>{item.name}</TableCell>\n                    <TableCell>\n                      {item.values &&\n                        item.values.map((item, i) => (\n                          <div key={i}>\n                            {item.name || ''}: {item.value || ''}{' '}\n                            {item.unit || ''}\n                          </div>\n                        ))}\n                    </TableCell>\n                  </TableRow>\n                )\n              })}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingBusDevices)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport {\n  getAwsMqttClient,\n  requestThingShadowGet,\n  requestThingShadowUpdate,\n  subscribeThingShadowGet,\n  subscribeThingShadowUpdate,\n} from '../../../../services/AwsMqttService'\n\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport ThingStatus from '../../../../components/Thing/ThingStatus'\nimport Typography from '@material-ui/core/Typography'\n\nimport Table from '@material-ui/core/Table'\n//import TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport Button from '@material-ui/core/Button'\n\nimport ThingAlarm from '../../../../components/Thing/ThingAlarm'\nimport ThingGuard from '../../../../components/Thing/ThingGuard'\nimport ThingPower from '../../../../components/Thing/ThingPower'\nimport ThingConnection from '../../../../components/Thing/ThingConnection'\nimport ThingUpdated from '../../../../components/Thing/ThingUpdated'\nimport ThingSensors from '../../../../components/Thing/ThingSensors'\nimport ThingDin from '../../../../components/Thing/ThingDin'\nimport ThingDout from '../../../../components/Thing/ThingDout'\nimport ThingRelays from '../../../../components/Thing/ThingRelays'\nimport ThingBusDevices from '../../../../components/Thing/ThingBus'\n\nclass DispatchThingDetails extends React.PureComponent {\n  state = {\n    thingShadowPending: false,\n    thingShadowError: null,\n    thingShadow: null,\n\n    unsavedDoutState: undefined,\n    unsavedRelayState: undefined,\n  }\n\n  componentDidMount() {\n    this.listenThingShadow()\n  }\n\n  componentWillUnmount() {\n    this.unlistenThingShadow()\n  }\n\n  async listenThingShadow() {\n    const { thing } = this.props\n    this.setState({\n      thingShadowPending: true,\n      thingShadowError: null,\n      thingShadow: null,\n    })\n    this.awsMqttClient = await getAwsMqttClient()\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/get/accepted`,\n      this.handleThingShadowGetAccepted\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/get/rejected`,\n      this.handleThingShadowGetRejected\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/update/accepted`,\n      this.handleThingShadowUpdateAccepted\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/update/rejected`,\n      this.handleThingShadowUpdateRejected\n    )\n    await subscribeThingShadowGet(thing)\n    await subscribeThingShadowUpdate(thing)\n    requestThingShadowGet(thing)\n  }\n\n  unlistenThingShadow() {\n    const { thing } = this.props\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/get/accepted`,\n      this.handleThingShadowGetAccepted\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/get/rejected`,\n      this.handleThingShadowGetRejected\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/update/accepted`,\n      this.handleThingShadowUpdateAccepted\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/update/rejected`,\n      this.handleThingShadowUpdateRejected\n    )\n  }\n\n  handleThingShadowGetAccepted = message => {\n    const thingShadow = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadowPending: false,\n      thingShadowError: null,\n      thingShadow,\n    })\n  }\n\n  handleThingShadowGetRejected = message => {\n    const thingShadowError = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadowPending: false,\n      thingShadowError,\n      thingShadow: null,\n    })\n  }\n\n  handleThingShadowUpdateAccepted = message => {\n    const { state } = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadow: {\n        ...this.state.thingShadow,\n        state: { ...this.state.thingShadow.state, ...state },\n      },\n      unsavedRelayState: undefined,\n    })\n  }\n\n  handleThingShadowUpdateRejected = message => {\n    //const thingShadowError= JSON.parse(message.payloadString)\n    //this.setState({ thingShadowPending:false, thingShadowError, thingShadow:null })\n  }\n\n  getThingShadowAlertState() {\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.alert) {\n      return thingShadowState.desired.alert\n    }\n    if (thingShadowState.reported) {\n      return thingShadowState.reported.alert\n    }\n    return false\n  }\n\n  getThingShadowGuardState() {\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.guard) {\n      return thingShadowState.desired.guard\n    }\n    if (thingShadowState.reported) {\n      return thingShadowState.reported.guard\n    }\n    return false\n  }\n\n  getThingShadowDoutState() {\n    if (this.state.unsavedDoutState !== undefined) {\n      return this.state.unsavedDoutState || []\n    }\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.dout) {\n      return thingShadowState.desired.dout || []\n    }\n    if (thingShadowState.reported && thingShadowState.reported.dout) {\n      return thingShadowState.reported.dout || []\n    }\n    return []\n  }\n\n  getThingShadowRelayState() {\n    if (this.state.unsavedRelayState !== undefined) {\n      return this.state.unsavedRelayState || []\n    }\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.relay) {\n      return thingShadowState.desired.relay || []\n    }\n    if (thingShadowState.reported && thingShadowState.reported.relay) {\n      return thingShadowState.reported.relay || []\n    }\n    return []\n  }\n\n  handleChangeAlarm = async () => {\n    let alarm = false\n    const {\n      thingShadow: {\n        state: { desired = {} },\n      },\n    } = this.state\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { ...desired, alarm } },\n    })\n  }\n\n  handleChangeGuard = async () => {\n    let guard = this.getThingShadowGuardState()\n    guard = !guard\n    const {\n      thingShadow: {\n        state: { desired = {} },\n      },\n    } = this.state\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { ...desired, guard } },\n    })\n  }\n\n  handleChangeDout = async (index, value) => {\n    const dout = [...this.getThingShadowDoutState()]\n    dout[index].value = value ? 1 : 0\n    const {\n      thingShadow: {\n        state: { desired = {} },\n      },\n    } = this.state\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { ...desired, dout } },\n    })\n  }\n\n  handleChangeRelay = async (index, value) => {\n    const relay = [...this.getThingShadowRelayState()]\n    relay[index].value = value ? 1 : 0\n    const {\n      thingShadow: {\n        state: { desired = {} },\n      },\n    } = this.state\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { ...desired, relay } },\n    })\n  }\n\n  render() {\n    const { classes, thing } = this.props\n    if (!thing) return null\n    console.groupCollapsed('RENDER THING DETAILS')\n    console.log('THING', thing)\n    console.log('THING SHADOW', this.state.thingShadow)\n    console.groupEnd()\n    return (\n      <React.Fragment>\n        {/*<pre>{''+this.state.thingShadowPending} - {JSON.stringify(this.state.thingShadowError)} - {JSON.stringify(this.state.thingShadow)}</pre>*/}\n        <div>\n          {this.state.thingShadowPending && (\n            <CircularProgress className={classes.progress} />\n          )}\n\n          {/*<Box display=\"flex\" alignItems=\"center\" mb={2}>\n            <ThingStatus thing={thing} thingShadow={this.state.thingShadow} hideLabel/>\n          </Box>\n\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\n            <LockIcon style={{ position:'relative', top:-1, marginRight:8, }}/>\n            <Typography className={classes.panelHeading} variant=\"subtitle1\">Объект на охране</Typography>\n          </Box>\n\n          <Box display=\"flex\" alignItems=\"center\" mb={2}>\n            <PowerIcon style={{ position:'relative', top:-1, marginRight:8, }}/>\n            <Typography className={classes.panelHeading} variant=\"subtitle1\">Питание подключено</Typography>\n          </Box>*/}\n\n          <ExpansionPanel\n            className={classes.panel}\n            elevation={0}\n            defaultExpanded\n          >\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Состояние\n              </Typography>\n              <Box flexGrow={1} />\n              <Box alignItems=\"center\" className={classes.panelDetailsShort}>\n                <ThingStatus\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingAlarm\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingGuard\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingPower\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingConnection\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n              </Box>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <Table className={classes.table}>\n                {/*<TableHead>\n                  <TableRow>\n                    <TableCell style={{ width:'20%'}}>Свойство</TableCell>\n                    <TableCell>Значение</TableCell>\n                    <TableCell />\n                  </TableRow>\n                </TableHead>*/}\n                <TableBody>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingStatus\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingStatus\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingAlarm\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingAlarm\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingAlarm\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                        whenActive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeAlarm}\n                          >\n                            Квитировать\n                          </Button>\n                        }\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingGuard\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingGuard\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingGuard\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                        whenActive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeGuard}\n                          >\n                            Снять с охраны\n                          </Button>\n                        }\n                        whenInactive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeGuard}\n                          >\n                            Поставить на охрану\n                          </Button>\n                        }\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingPower\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingPower\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingConnection\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingConnection\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell\n                      component=\"th\"\n                      scope=\"row\"\n                      style={{ width: '20%' }}\n                    >\n                      <ThingUpdated\n                        hideValue\n                        hideValueDuration\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingUpdated\n                        hideIcon\n                        hideLabel\n                        hideValueDuration\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingUpdated\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n\n          {!!(\n            thing.ain ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.ain)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Аналоговые датчики\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingSensors\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.owire ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.owire)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина 1-Wire\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"owire\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs485_1 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs485_1)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина RS-485-1\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs485_1\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs485_2 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs485_2)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина RS-485-2\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs485_2\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs485_3 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs485_3)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина RS-485-3\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs485_3\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs485_4 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs485_4)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина RS-485-4\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs485_4\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs232 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs232)\n          ) && (\n            <ExpansionPanel\n              className={classes.panel}\n              elevation={0}\n              defaultExpanded\n            >\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Устройство RS-232\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs232\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          <ExpansionPanel\n            className={classes.panel}\n            elevation={0}\n            defaultExpanded\n          >\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Дискретные входы\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <ThingDin thing={thing} thingShadow={this.state.thingShadow} />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n\n          <ExpansionPanel\n            className={classes.panel}\n            elevation={0}\n            defaultExpanded\n          >\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Дискретные выходы\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <ThingDout\n                thing={thing}\n                thingShadow={this.state.thingShadow}\n                unsavedState={this.state.unsavedDoutState}\n                onChangeState={this.handleChangeDout}\n              />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n\n          <ExpansionPanel\n            className={classes.panel}\n            elevation={0}\n            defaultExpanded\n          >\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Реле\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <ThingRelays\n                thing={thing}\n                thingShadow={this.state.thingShadow}\n                unsavedState={this.state.unsavedRelayState}\n                onChangeState={this.handleChangeRelay}\n              />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  status: {},\n\n  panel: {\n    '&.Mui-expanded': {\n      margin: 0,\n    },\n  },\n  panelSummary: {\n    minHeight: 48,\n    padding: 0,\n    '&.Mui-expanded': {\n      minHeight: 48,\n      margin: 0,\n      '& $panelDetailsShort': {\n        display: 'none',\n      },\n    },\n  },\n  panelSummaryContent: {\n    minHeight: 'auto',\n    margin: 0,\n    '&.Mui-expanded': {\n      margin: 0,\n    },\n  },\n  panelDetails: {\n    padding: 0,\n  },\n  panelDetailsShort: {\n    display: 'flex',\n  },\n  panelHeading: {},\n\n  list: {\n    margin: theme.spacing(-1, -2, 2),\n    padding: 0,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {},\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n\n  progress: {\n    position: 'absolute',\n    zIndex: 100500,\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n})\n\nexport default withStyles(styles)(DispatchThingDetails)\n","import { connect } from 'react-redux'\n\nimport DispatchThingDetails from './DispatchThingDetails'\n\nconst mapStateToProps = (state, { thing }) => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchThingDetails)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { closeThing } from '../../actions/ThingListActions'\n\nimport DispatchThingDialog from './DispatchThingDialog'\nimport DispatchThingDetailsContainer from '../DispatchThingDetails/DispatchThingDetails.container'\n\nconst mapStateToProps = (state, props) => ({\n  open: !!state.thingList.thing,\n  thing: state.thingList.thing,\n  thingDetailsComponent: DispatchThingDetailsContainer,\n  addressById: state.addressList.listItemById,\n  groupById: state.groupsList.listItemById,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: bindActionCreators(closeThing, dispatch),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchThingDialog)\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport Dispatch from './Dispatch'\n\nimport DispatchEventListContainer from '../DispatchEventList/DispatchEventList.container'\nimport DispatchEventListFilterContainer from '../DispatchEventListFilter/DispatchEventListFilter.container'\n\nimport DispatchThingListContainer from '../DispatchThingList/DispatchThingList.container'\nimport DispatchThingListFilter from '../DispatchThingListFilter/DispatchThingListFilter.container'\nimport DispatchThingDialogContainer from '../DispatchThingDialog/DispatchThingDialog.container'\n\nimport { getUser } from '../../../../selectors/appSelectors'\n\nimport { fetchAddressList } from '../../../../actions/AddressListActions'\nimport { fetchGroupsList } from '../../../../actions/GroupsListActions'\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n  addressList: state.addressList.list,\n  groupList: state.groupsList.list,\n  eventListComponent: DispatchEventListContainer,\n  eventListFilterComponent: DispatchEventListFilterContainer,\n  thingListComponent: DispatchThingListContainer,\n  thingListFilterComponent: DispatchThingListFilter,\n  thingDialogComponent: DispatchThingDialogContainer,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onFetchAddressList: bindActionCreators(fetchAddressList, dispatch),\n  onFetchGroupList: bindActionCreators(fetchGroupsList, dispatch),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dispatch)\n","import React from 'react'\nimport { DynamicModuleLoader } from 'redux-dynamic-modules'\nimport DispatchModule from '../../'\nimport Dispatch from './Dispatch.container'\n\nexport default function(props) {\n  return (\n    <DynamicModuleLoader modules={[DispatchModule()]}>\n      <Dispatch />\n    </DynamicModuleLoader>\n  )\n}\n","import React from 'react'\n\nconst NotFound = ({ data }) => {\n  return (\n    <React.Fragment>\n      <h2>Страница не найдена</h2>\n      <p>Попробуйте... (ссылки)</p>\n    </React.Fragment>\n  )\n}\n\nexport default NotFound\n","import React, { useState } from 'react'\n\nconst Auth = ({ onAuth }) => {\n  const [data, setData] = useState({\n    username: '',\n    password: '',\n  })\n\n  return (\n    <div>\n      <form\n        className=\"box\"\n        onSubmit={evt => {\n          evt.preventDefault()\n          onAuth(data)\n        }}\n      >\n        <h1>ST-EYE</h1>\n        <input\n          type={'text'}\n          onChange={({ target: { value: username } }) => {\n            setData({ ...data, username })\n          }}\n          placeholder={'Имя пользователя'}\n          value={data.username}\n        />\n        <input\n          type={'password'}\n          onChange={({ target: { value: password } }) => {\n            setData({ ...data, password })\n          }}\n          placeholder={'Пароль'}\n          value={data.password}\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Auth\n","import { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport Auth from './Auth'\nimport { authUser } from '../../actions/AuthActions'\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({\n  onAuth: bindActionCreators(authUser, dispatch),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Auth)\n","import React from 'react'\nimport { Switch, Route, Redirect } from 'react-router-dom'\nimport LinkBtn from '../../components/LinkBtn'\nimport UserContainer from '../../containers/UserContainer'\nimport AnalystModule from '../../modules/Analyst/packages/Analyst/Analyst.module'\nimport WsSelectContainer from '../../containers/WsSelectContainer'\nimport DispatchModule from '../../modules/Dispatch/packages/Dispatch/Dispatch.module'\nimport NotFound from '../../components/NotFound'\nimport './App.css'\nimport Auth from '../Auth/Auth.container'\n\nconst App = ({ user, userPending }) => (\n  <div className=\"rootDiv\">\n    <header className=\"header\">\n      <div className=\"logo\">\n        <span className=\"appName\">ST-Eye</span>\n        <span className=\"separator\"></span>\n        <span className=\"pageName\"></span>\n      </div>\n      <div className=\"top-menu\">\n        <LinkBtn to=\"/ws\" label={'Выбор рабочего места'} />\n      </div>\n      <UserContainer />\n    </header>\n    {userPending ? (\n      '...'\n    ) : user ? (\n      <Switch>\n        <Route exact path=\"/\">\n          <Redirect to=\"/ws\" />\n        </Route>\n        <Route path=\"/login\">login</Route>\n        <Route path=\"/analyst\" component={AnalystModule} />\n        <Route path=\"/dispatch\" component={DispatchModule} />\n        <Route path=\"/ws\" component={WsSelectContainer} />\n        <Route component={NotFound} />\n      </Switch>\n    ) : (\n      <Switch>\n        <Route path=\"/\" component={Auth} />\n      </Switch>\n    )}\n  </div>\n)\n\nexport default App\n","import { connect } from 'react-redux'\nimport { getUser, getUserPending } from '../../selectors/appSelectors'\n\nimport App from './App'\n\nconst mapStateToProps = state => ({\n  user: getUser(state),\n  userPending: getUserPending(state),\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { HashRouter as Router } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport registerServiceWorker from './registerServiceWorker'\n\nimport { ThemeProvider } from '@material-ui/styles'\nimport store from './store'\n\nimport theme from './theme'\nimport './index.css'\n\nimport App from './packages/App/App.container'\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <Router>\n        <App />\n      </Router>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n\nregisterServiceWorker()\n"],"sourceRoot":""}