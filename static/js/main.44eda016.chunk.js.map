{"version":3,"sources":["resources/analytics.svg","resources/dispatching.svg","settings/aws/AwsConfig.js","actions/SessionActions.js","helpers/session.js","reducers/session.js","actions/AddressListActions.js","reducers/addressList.js","actions/GroupsListActions.js","reducers/groupsList.js","actions/EventListActions.js","reducers/eventList.js","services/CsvShkaService.js","actions/ThingListActions.js","reducers/thingList.js","actions/AnalystActions.js","reducers/analyst.js","actions/DispatchActions.js","reducers/dispatch.js","reducers/index.js","containers/PrivateRoute.js","components/Login.js","containers/LoginContainer.js","components/LinkBtn.js","components/User.js","containers/UserContainer.js","components/Analyst.js","components/AnalystGroupListItem.js","components/AnalystGroupList.js","containers/AnalystGroupListContainer.js","containers/AnalystContainer.js","components/Loading.js","components/WsSelect.js","containers/WsSelectContainer.js","components/Thing/ThingIdentity.js","components/Dispatch.js","components/Filter.js","containers/FilterContainer.js","components/DispatchEventListItem.js","components/DispatchEventList.js","containers/DispatchEventListContainer.js","components/Thing/ThingStatus.js","components/DispatchThingListItem.js","components/DispatchThingList.js","containers/DispatchThingListContainer.js","services/AwsMqttService.js","components/Thing/ThingAlarm.js","components/Thing/ThingGuard.js","components/Thing/ThingPower.js","components/Thing/ThingConnection.js","components/Thing/ThingUpdated.js","components/Sensor/SensorStatus.js","components/Thing/ThingSensors.js","components/Thing/ThingPins.js","components/Thing/ThingRelays.js","components/Thing/ThingBus.js","components/DispatchThingDetails.js","containers/DispatchThingDetailsContainer.js","containers/DispatchContainer.js","components/NotFound.js","App.js","registerServiceWorker.js","theme.js","index.js"],"names":["module","exports","__webpack_require__","p","AWS_CONFIG","identityPoolId","region","userPoolId","clientId","endpointAddress","restApi","LOG_IN","LOG_OUT","LOG_IN_FAILURE","WRITE_CRED_TO_STORE","logIn","params","cb","dispatch","Promise","resolve","reject","AWS","require","$","AmazonCognitoIdentity","authenticationData","Username","username","toLowerCase","Password","password","poolData","UserPoolId","ClientId","console","log","userPool","CognitoUserPool","userData","Pool","authenticationDetails","AuthenticationDetails","cognitoUser","CognitoUser","authenticateUser","onSuccess","result","idToken","getIdToken","getJwtToken","accessToken","getAccessToken","loginCredentialsProvider","config","update","credentials","CognitoIdentityCredentials","IdentityPoolId","Logins","Object","defineProperty","get","error","clearCachedId","IotConfig","endpoint","accessKeyId","secretAccessKey","sessionToken","status","code","reset","onFailure","err","addClass","delay","queue","removeClass","focus","select","dequeue","newPasswordRequired","userAttributes","requiredAttributes","email_verified","phone_number_verified","newPassword","prompt","name","family_name","sessionUserAttributes","completeNewPasswordChallenge","checkCredentials","then","response","type","payload","errorMsg","catch","cookies","Cookies","initialState","user","ADDRESS_LIST_FETCH","list","listPending","listError","GROUPS_LIST_FETCH","EVENT_LIST_FETCH","getCsvShka","IotAnalytics","datasetName","getDatasetContent","data","THING_LIST_FETCH","dataPending","dataError","DATA_FETCH","total","groups","DISPATCH_FILTER_PARAMS_SET","filter","address","noPower","noConnection2h","noConnection24h","noEthernet","lowGsm","statusNormal","statusAlmin","statusAlmaj","activeEthernet","activeGsm","noConnection","combineReducers","session","state","arguments","length","undefined","action","remove","set","objectSpread","path","maxAge","addressList","groupsList","eventList","thingList","analyst","activeThings","dataset","count","things","statusNormalCount","statusAlminCount","statusAlmajCount","noConnectionCount","errorCount","errorPercentage","values","reduce","groupById","row","group","group_id","id","thingById","device","prevRow","parseInt","__time","now","Date","_i","_groups","_i2","_Object$values","thing","Number","concat","Math","round","connect","isAuth","_ref","Component","component","rest","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","to","pathname","from","location","Login","redirectToPreviousRoute","handleSubmit","e","preventDefault","_this$state","_this","setState","handleChange","value","currentTarget","fieldName","prev","_this2","this","cCred","writeCred","_this$props","_this$state2","className","onSubmit","data-field-name","onChange","placeholder","React","timeOut","LinkBtn","label","react_router_dom","Button_default","variant","color","User","Fragment","UserContainer","loggedIn","components_User","Analyst","onFetchData","classes","GroupList","groupListComponent","Box","root","display","flexGrow","Paper","flexDirection","m","Toolbar","Typography","PureComponent","withStyles","theme","AnalystGroupListItem","index","style","_this$props$data","item","itemColumn","itemColumn_title","itemColumn_count","itemColumn_error","itemColumn_service","itemColumn_status","AnalystGroupList","head","position","AutoSizer","width","height","index_esm","itemCount","itemSize","overscanCount","itemData","flexWrap","alignItems","WebkitBoxOrient","WebkitBoxDirection","WebkitBoxAlign","boxShadow","&:last-child","boxSizing","minWidth","overflow","paddingLeft","paddingRight","lineHeight","fontSize","&:first-child","spacing","flex","whiteSpace","justifyContent","$item &","textDecoration","palette","secondary","main","$item &:hover","primary","AnalystGroupListContainer","components_AnalystGroupList","AnalystContainer","components_Analyst","asyncToGenerator","regenerator_default","mark","_callee","getState","_getState","opts","res","dataUri","wrap","_context","next","host","method","headers","auth","aws4","sign","fetch","sent","json","getCSV","t0","stop","_x","_x2","apply","Loading","alt","src","WsSelect","i","map","components_LinkBtn","key","href","components_Loading","WsSelectContainer","listGroupsParams","CognitoIdentityServiceProvider","adminListGroupsForUser","stack","_this3","_asyncRequest","getUserGroups","Groups","el","GroupName","components_WsSelect","ThingIdentity","addressById","address_id","S","Dispatch","Filter","filterComponent","EventList","eventListComponent","ThingList","thingListComponent","ThingDetails","thingDetailsComponent","pt","pb","mb","onClickThing","Chip","chip","Dialog","container","dialogContainer","paper","dialogPaper","open","onClose","maxWidth","fullWidth","AppBar_default","dialogBar","elevation","Container","disableGutters","Thing_ThingIdentity","IconButton","edge","onClick","Close_default","DialogContent","dialogContent","marginLeft","marginTop","backgroundColor","padding","dialogActions","dialogAction","PARAMS","handleChangeAddress","target","handleChangeCheckbox","_ref2","_ref2$target","checked","hasParams","searchParamsOrder","searchParams","entries","_ref3","_ref4","slicedToArray","k","v","push","history","search","stringify","sort","b","indexOf","setParams","_this$props2","parse","keys","_this$props3","fetchGroupsList","prevProps","prevState","snapshot","JSON","_this$props4","top","right","bottom","left","overflowY","heading","paragraph","subtitle","NativeSelect","addressSelect","Items","N","FormGroup","FormControlLabel","checkboxControl","checkboxControlLabel","control","Checkbox","checkbox","Button_Button","submit","isSubmitted","withRouter","margin","background","borderRadius","shape","fontWeight","marginBottom","&::before","borderBottomColor","typography","body2","paddingTop","addressListPending","addressListError","groupsListPending","groupsListError","setDispatchFilterParams","ok","DispatchEventListItem","itemColumn_level","level","Lens_default","itemIcon","itemColumn_device","itemColumn_message","message","itemColumn_time","moment","time","format","DispatchEventList","DispatchEventListContainer","fetchEventList","components_DispatchEventList","ThingStatus","date","thingShadow","reported","msgtime","_this$props3$hideIcon","hideIcon","_this$props3$hideLabe","hideLabel","_this$props3$hideValu","hideValue","disconnected","isDisconnected","getStatus","icon","Error_default","NewReleases_default","Help_default","marginRight","verticalAlign","DispatchThingListItem","ts","isDisconnectedThing","item_noConnection","Thing_ThingStatus","itemColumn_object","itemColumn_details","conn","guard","temperature","itemColumn_updated","DispatchThingList","onFetchThingList","onFetchAddressList","thingListParams","filtered","forEach","pwr","rssi","DispatchThingListContainer","components_DispatchThingList","thingListPending","thingListError","thingsList","SigV4getSignedUrl","datetime","iso8601","replace","substr","credentialScope","canonicalQuerystring","encodeURIComponent","canonicalRequest","crypto","sha256","stringToSign","algorithm","signingKey","service","kDate","hmac","kRegion","kService","SigV4getSignatureKey","protocol","AwsMqttClient","client","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onMessageArrived","emit","destinationName","EventEmitter","awsMqttClient","getAwsMqttClient","requestUrl","Paho","Client","subscribeThingShadowGet","_ref$timeout","timeout","all","subscribe","subscribeThingShadowUpdate","_ref2$timeout","requestThingShadowGet","Message","send","requestThingShadowUpdate","ThingAlarm","alarm","_this$props2$hideIcon","_this$props2$hideLabe","_this$props2$hideValu","_this$props2$whenActi","whenActive","isActive","NotificationsActive_default","icon_textPrimary","NotificationsOutlined_default","icon_textSecondary","text","ThingGuard","whenInactive","LockOutlined_default","Icon_default","mdiLockOpen","size","fill","ThingPower","PowerOutlined_default","PowerOff_default","ThingConnection","isEthernet","mdiEthernetCable","mdiAccessPoint","isGsm","ThingUpdated","duration","getTime","locale","humanize","_this$props3$hideValu2","hideValueDuration","Schedule_default","getValue","valueDuration","getValueDuration","SensorStatus","sensor","ThingSensors","Table","table","TableHead","TableRow","TableCell","TableBody","ain","Sensor_SensorStatus","role","& thead th","& tbody th, & tbody td","& > tbody > tr:last-child th, & > tbody > tr:last-child td","borderBottom","ThingPins","scope","ThingRelays","_this$props$thingShad","desired","desiredRelay","relay","reportedRelay","unsavedRelayState","onChangeRelay","r","isThingRelayOn","isThingRelayDesired","CircularProgress","Switch","disabled","on","& tbody th","& tbody td:last-child","textAlign","ThingBusDevices","bus","water","DispatchThingDetails","thingShadowPending","thingShadowError","handleThingShadowGetAccepted","payloadString","handleThingShadowGetRejected","handleThingShadowUpdateAccepted","handleThingShadowUpdateRejected","handleChangeAlarm","handleChangeGuard","_callee2","_context2","getThingShadowGuardState","handleChangeRelay","_callee3","_context3","toConsumableArray","getThingShadowRelayState","listenThingShadow","unlistenThingShadow","removeListener","thingShadowState","alert","groupCollapsed","groupEnd","progress","ExpansionPanel","panel","defaultExpanded","ExpansionPanelSummary","panelSummary","content","panelSummaryContent","expandIcon","ExpandMore_default","panelHeading","panelDetailsShort","Thing_ThingAlarm","Thing_ThingGuard","Thing_ThingPower","Thing_ThingConnection","ExpansionPanelDetails","panelDetails","Thing_ThingUpdated","Thing_ThingSensors","owire","ThingBus","rs485","rs232","Thing_ThingPins","Thing_ThingRelays","&.Mui-expanded","minHeight","& $panelDetailsShort","zIndex","DispatchThingDetailsContainer","components_DispatchThingDetails","DispatchContainer","components_Dispatch","FilterContainer","NotFound","DebugBtns","debug","App","store","containers_UserContainer","exact","LoginContainer","containers_PrivateRoute","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","createMuiTheme","middleware","thunk","createStore","reducer","applyMiddleware","ReactDOM","es","ThemeProvider","src_App_0","document","getElementById","URL","process","origin","addEventListener","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.44eda016.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/analytics.a203d5f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dispatching.7a07babb.svg\";","export const AWS_CONFIG = {\n  identityPoolId: 'us-west-2:114badde-4b86-4c5d-a671-837a60c3cbb1',\n  region: 'us-west-2',\n  userPoolId: 'us-west-2_Ua8aBxkIu',\n  clientId: '7mj4lsl3m2kpsqifctr9k98i55',\n  endpointAddress: 'a2o8vhh9dxnl69-ats.iot.us-west-2.amazonaws.com',\n  restApi: 'https://vvup9clsk5.execute-api.us-west-2.amazonaws.com/api',\n}\n","import { checkCredentials } from '../helpers/session'\n\nexport const LOG_IN = 'LOG_IN'\nexport const LOG_OUT = 'LOG_OUT'\nexport const LOG_IN_FAILURE = 'LOG_IN_FAILURE'\nexport const WRITE_CRED_TO_STORE = 'WRITE_CRED_TO_STORE'\n\nexport function writeCred(params, cb) {\n  return dispatch => {\n    dispatch({\n      type: WRITE_CRED_TO_STORE,\n      payload: {\n        name: params.name,\n        credentials: params.credentials,\n      },\n    })\n    cb()\n  }\n}\n\nexport function logIn(params, cb) {\n  return dispatch => {\n    checkCredentials(params)\n      .then(response => {\n        //console.log('promise loaded')\n        if (response.status) {\n          dispatch({\n            type: LOG_IN,\n            payload: {\n              name: params.username,\n              credentials: response.credentials,\n            },\n          })\n          cb()\n        } else {\n          dispatch({\n            type: LOG_IN_FAILURE,\n            payload: {\n              errorMsg: response.code,\n            },\n            error: true, // https://github.com/redux-utilities/flux-standard-action\n          })\n        }\n      })\n      .catch(error => {\n        console.log('Promise error:', error)\n        dispatch({\n          type: LOG_IN_FAILURE,\n          payload: {\n            errorMsg: error,\n          },\n          error: true, // https://github.com/redux-utilities/flux-standard-action\n        })\n      })\n  }\n}\n\nexport function logOut() {\n  return {\n    type: LOG_OUT,\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\n\nexport function checkCredentials(params) {\n  return new Promise((resolve, reject) => {\n    //console.log(params);\n    var AWS = require('aws-sdk')\n    var $ = require('jquery')\n    var AmazonCognitoIdentity = require('amazon-cognito-identity-js')\n\n    var authenticationData = {\n      Username: params.username.toLowerCase(), // your username here\n      Password: params.password, // your password here\n    }\n    var poolData = {\n      UserPoolId: AWS_CONFIG.userPoolId,\n      ClientId: AWS_CONFIG.clientId,\n    }\n\n    console.log(poolData)\n    var userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData)\n    var userData = {\n      Username: authenticationData.Username,\n      Pool: userPool,\n    }\n    var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(\n      authenticationData\n    )\n    var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData)\n    //console.log(\"blablabla\");\n    ////////////////////////////////////////////////////////////////////////////////////////\n    cognitoUser.authenticateUser(authenticationDetails, {\n      onSuccess: function(result) {\n        console.log('authenticateUser:onSuccess')\n        var idToken = result.getIdToken().getJwtToken()\n        var accessToken = result.getAccessToken().getJwtToken()\n        var loginCredentialsProvider =\n          'cognito-idp.' +\n          AWS_CONFIG.region +\n          '.amazonaws.com/' +\n          AWS_CONFIG.userPoolId\n        //console.log(loginCredentialsProvider);\n        AWS.config.update({ region: AWS_CONFIG.region })\n\n        // Add the User's Id Token to the Cognito credentials login map.\n        AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n          IdentityPoolId: AWS_CONFIG.identityPoolId,\n          Logins: {\n            [loginCredentialsProvider]: idToken,\n          },\n        })\n\n        AWS.config.credentials.get(error => {\n          if (error) {\n            console.log('CONFIGERROR')\n            AWS.config.credentials.clearCachedId()\n            console.error(error)\n            reject(error)\n          } else {\n            //console.log(AWS.config.credentials);\n            //AWS.config.region = this.props.user.credentials.region;\n\n            var IotConfig = {\n              endpoint: 'iot.' + AWS_CONFIG.region + '.amazonaws.com',\n              region: AWS_CONFIG.region,\n              accessKeyId: AWS.config.credentials.accessKeyId,\n              accessToken: accessToken,\n              idToken: idToken,\n              secretAccessKey: AWS.config.credentials.secretAccessKey,\n              sessionToken: AWS.config.credentials.sessionToken,\n            }\n\n            //console.log(IotConfig);\n            //Iot = new AWS.Iot(IotConfig);\n            //console.log(Iot);\n            //console.log(\"AWS AUTH SUCCESS\");\n\n            resolve({\n              status: true,\n              code: '',\n              credentials: IotConfig,\n            })\n          }\n        })\n\n        $('form')[0].reset()\n      },\n\n      onFailure: function(err) {\n        console.log(err)\n        console.log('AWS AUTH ERROR')\n        $('.box')\n          .addClass('shake')\n          .delay(1000)\n          .queue(function() {\n            $('.box').removeClass('shake')\n            $(\"input[name='password']\")\n              .focus()\n              .select()\n            $('.box').dequeue()\n          })\n        resolve({\n          status: false,\n          code: 'invalid_login_or_password',\n          credentials: {},\n        })\n      },\n\n      newPasswordRequired: function(userAttributes, requiredAttributes) {\n        // User was signed up by an admin and must provide new\n        // password and required attributes, if any, to complete\n        // authentication.\n        console.log('user: ', userAttributes)\n        console.log('required: ', requiredAttributes)\n        // the api doesn't accept this field back\n        delete userAttributes.email_verified\n        delete userAttributes.phone_number_verified\n\n        var newPassword = prompt('Input new password', '')\n\n        // store userAttributes on global variable\n        userAttributes.name = 'name' // TODO\n        userAttributes.family_name = 'surname' // TODO\n        var sessionUserAttributes = userAttributes\n\n        console.log(userAttributes)\n        cognitoUser.completeNewPasswordChallenge(\n          newPassword,\n          sessionUserAttributes,\n          {\n            onSuccess: result => {\n              console.log('NEW PASSWORD COMPLETED: ')\n              console.log(result)\n            },\n            onFailure: err => {\n              console.log(err)\n              reject(err)\n            },\n          }\n        )\n\n        // store userAttributes on global variable\n        sessionUserAttributes = userAttributes\n      },\n    })\n  })\n}\n","import {\n  LOG_IN,\n  LOG_OUT,\n  LOG_IN_FAILURE,\n  WRITE_CRED_TO_STORE,\n} from '../actions/SessionActions'\nimport Cookies from 'universal-cookie'\nconst cookies = new Cookies()\n\nconst initialState = {\n  user: null,\n  errorMsg: '',\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case LOG_IN: {\n      cookies.remove('credentials')\n      cookies.set(\n        'credentials',\n        {\n          ...action.payload.credentials,\n          name: action.payload.name,\n        },\n        {\n          path: '/',\n          maxAge: 60 * 10,\n        }\n      )\n      return {\n        ...state,\n        user: {\n          name: action.payload.name,\n          credentials: action.payload.credentials,\n        },\n        errorMsg: '',\n      }\n    }\n    case LOG_OUT: {\n      cookies.remove('credentials')\n      return {\n        ...state,\n        user: null,\n        errorMsg: '',\n      }\n    }\n\n    case WRITE_CRED_TO_STORE:\n      return {\n        ...state,\n        user: {\n          name: action.payload.name,\n          credentials: action.payload.credentials,\n        },\n      }\n\n    case LOG_IN_FAILURE:\n      return {\n        ...state,\n        errorMsg: action.payload.errorMsg,\n      }\n    default:\n      return state\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nexport const ADDRESS_LIST_FETCH = 'ADDRESS_LIST_FETCH'\n\nexport function fetchAddressList(user) {\n  return async dispatch => {\n    dispatch({\n      type: ADDRESS_LIST_FETCH,\n      status: 'pending',\n    })\n\n    const res = await fetch(AWS_CONFIG.restApi + '/addresses')\n    const data = await res.json()\n    if (res.ok) {\n      dispatch({\n        type: ADDRESS_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: ADDRESS_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n","import { ADDRESS_LIST_FETCH } from '../actions/AddressListActions'\n\nconst initialState = {\n  list: null,\n  listPending: false,\n  listError: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case ADDRESS_LIST_FETCH: {\n      const { status, payload } = action\n\n      return {\n        ...state,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nexport const GROUPS_LIST_FETCH = 'GROUPS_LIST_FETCH'\n\nexport function fetchGroupsList(user) {\n  return async dispatch => {\n    dispatch({\n      type: GROUPS_LIST_FETCH,\n      status: 'pending',\n    })\n\n    const res = await fetch(AWS_CONFIG.restApi + '/groups')\n    const data = await res.json()\n    if (res.ok) {\n      dispatch({\n        type: GROUPS_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: GROUPS_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n","import { GROUPS_LIST_FETCH } from '../actions/GroupsListActions'\n\nconst initialState = {\n  list: null,\n  listPending: false,\n  listError: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case GROUPS_LIST_FETCH: {\n      const { status, payload } = action\n\n      return {\n        ...state,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nexport const EVENT_LIST_FETCH = 'EVENTS_LIST_FETCH'\n\nexport function fetchEventList(user) {\n  return async dispatch => {\n    dispatch({\n      type: EVENT_LIST_FETCH,\n      status: 'pending',\n    })\n\n    const res = await fetch(AWS_CONFIG.restApi + '/log')\n    const data = await res.json()\n    if (res.ok) {\n      dispatch({\n        type: EVENT_LIST_FETCH,\n        status: 'success',\n        payload: data,\n      })\n    } else {\n      dispatch({\n        type: EVENT_LIST_FETCH,\n        status: 'failure',\n        payload: data,\n      })\n    }\n  }\n}\n","import { EVENT_LIST_FETCH } from '../actions/EventListActions'\n\nconst initialState = {\n  list: null,\n  listPending: false,\n  listError: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case EVENT_LIST_FETCH: {\n      const { status, payload } = action\n\n      return {\n        ...state,\n        list: status === 'success' ? payload : null,\n        listPending: status === 'pending',\n        listError: status === 'failure' ? payload : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","export function getCsvShka(IotAnalytics, name) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      datasetName: name,\n    }\n    IotAnalytics.getDatasetContent(params, (err, data) => {\n      if (err) {\n        reject(err)\n      } else {\n        resolve(data)\n      }\n    })\n  })\n}\n\nexport function filterRows(rows, params) {\n  // console.warn('filter rows', rows, params)\n\n  return rows.filter(row => {\n    let filtered = true\n    Object.entries(params).forEach(([k, v]) => {\n      if (!filtered) return\n      switch (k) {\n        case 'address': {\n          if (v) {\n            filtered = row.group_id === v\n            return\n          }\n        }\n        case 'noPower': {\n          if (v === true) {\n            filtered = false\n            if (row.pwr === false || row.pwr === 'false') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'noConnection2h': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 2) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'noConnection24h': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 24) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'noEthernet': {\n          if (v === true) {\n            filtered = false\n            if (row.conn !== 'eth') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'lowGsm': {\n          if (v === true) {\n            filtered = false\n            if (Number('' + row.rssi || '0') <= -92) {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'activeEthernet': {\n          if (v === true) {\n            filtered = false\n            if (row.conn === 'eth') {\n              filtered = true\n            }\n          }\n          return\n        }\n        case 'activeGsm': {\n          if (v === true) {\n            filtered = false\n            if (row.conn === 'gsm') {\n              filtered = true\n            }\n          }\n          return\n        }\n\n        case 'noConnection': {\n          if (v === true) {\n            filtered = false\n            if (row.msgtime) {\n              const ts = new Date(Number(`${row.msgtime}000`))\n              const now = new Date()\n              if (now - ts >= 1000 * 60 * 60 * 2) {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusNormal': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'normal') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusAlmin': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'almin') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n        case 'statusAlmaj': {\n          if (v === true) {\n            filtered = false\n            if (row.status === 'almaj') {\n              if (row.msgtime) {\n                const ts = new Date(Number(`${row.msgtime}000`))\n                const now = new Date()\n                if (now - ts < 1000 * 60 * 60 * 2) {\n                  filtered = true\n                }\n              } else {\n                filtered = true\n              }\n            }\n          }\n          return\n        }\n\n        default: {\n        }\n      }\n    })\n    return filtered\n  })\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nimport * as AWS from 'aws-sdk'\nimport * as getCSV from 'get-csv'\nimport { getCsvShka } from '../services/CsvShkaService'\n\nexport const THING_LIST_FETCH = 'THING_LIST_FETCH'\n\nexport function fetchThingList() {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: THING_LIST_FETCH,\n      status: 'pending',\n    })\n    try {\n      const {\n        session: { user },\n      } = getState()\n      AWS.config.update({ region: AWS_CONFIG.region })\n      const loginCredentialsProvider =\n        'cognito-idp.' +\n        AWS_CONFIG.region +\n        '.amazonaws.com/' +\n        AWS_CONFIG.userPoolId\n      AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n        IdentityPoolId: AWS_CONFIG.identityPoolId,\n        Logins: {\n          [loginCredentialsProvider]: user.credentials.idToken,\n        },\n      })\n      const Iot = new AWS.Iot(user.credentials)\n      const IotAnalytics = new AWS.IoTAnalytics()\n      const data = await getCsvShka(IotAnalytics, 'st_eye_dataset_dispatch')\n      const dataUri = data['entries'][0]['dataURI']\n      const thingsList = await getCSV(dataUri)\n      dispatch({\n        type: THING_LIST_FETCH,\n        status: 'success',\n        payload: thingsList,\n      })\n    } catch (err) {\n      dispatch({\n        type: THING_LIST_FETCH,\n        status: 'failure',\n        payload: err,\n      })\n    }\n  }\n}\n","import { THING_LIST_FETCH } from '../actions/ThingListActions'\n\nconst initialState = {\n  data: null,\n  dataPending: false,\n  dataError: null,\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case THING_LIST_FETCH: {\n      const { status, payload } = action\n      return {\n        ...state,\n        data: status === 'success' ? payload : null,\n        dataPending: status === 'pending',\n        dataError: status === 'failure' ? payload : null,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { AWS_CONFIG } from '../settings/aws/AwsConfig'\nimport aws4 from 'aws4'\nimport * as AWS from 'aws-sdk'\nimport * as getCSV from 'get-csv'\nimport { getCsvShka } from '../services/CsvShkaService'\n\nexport const DATA_FETCH = 'ANALYST_DATA_FETCH'\n\nexport function fetchAnalystData() {\n  return async (dispatch, getState) => {\n    dispatch({\n      type: DATA_FETCH,\n      status: 'pending',\n    })\n    try {\n      const {\n        session: { user },\n      } = getState()\n      AWS.config.update({ region: AWS_CONFIG.region })\n\n      const opts = {\n        host: 'iot.us-west-2.amazonaws.com',\n        method: 'GET',\n        headers: {\n          auth: user.credentials.idToken,\n        },\n      }\n      aws4.sign(opts, {\n        accessKeyId: user.credentials.accessKeyId,\n        secretAccessKey: user.credentials.secretAccessKey,\n        sessionToken: user.credentials.sessionToken,\n      })\n      const res = await fetch(AWS_CONFIG.restApi + '/things/active', opts)\n      const activeThings = await res.json()\n\n      const loginCredentialsProvider =\n        'cognito-idp.' +\n        AWS_CONFIG.region +\n        '.amazonaws.com/' +\n        AWS_CONFIG.userPoolId\n      AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n        IdentityPoolId: AWS_CONFIG.identityPoolId,\n        Logins: {\n          [loginCredentialsProvider]: user.credentials.idToken,\n        },\n      })\n      const Iot = new AWS.Iot(user.credentials)\n      const IotAnalytics = new AWS.IoTAnalytics()\n      const data = await getCsvShka(IotAnalytics, 'st_eye_dataset_laststatus')\n      const dataUri = data['entries'][0]['dataURI']\n      const dataset = await getCSV(dataUri)\n      dispatch({\n        type: DATA_FETCH,\n        status: 'success',\n        payload: {\n          activeThings,\n          dataset,\n        },\n      })\n    } catch (error) {\n      dispatch({\n        type: DATA_FETCH,\n        status: 'failure',\n        payload: error,\n      })\n    }\n  }\n}\n","import { DATA_FETCH } from '../actions/AnalystActions'\n\nconst initialState = {\n  data: null,\n  dataPending: false,\n  dataError: null,\n\n  total: {},\n  groups: [],\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case DATA_FETCH: {\n      const { status, payload } = action\n      switch (status) {\n        case 'pending': {\n          return {\n            ...state,\n            dataPending: true,\n          }\n        }\n        case 'success': {\n          const { activeThings, dataset } = payload\n          const total = {\n            count: activeThings.things.length || 0,\n            statusNormalCount: 0,\n            statusAlminCount: 0,\n            statusAlmajCount: 0,\n            noConnectionCount: 0,\n            errorCount: 0,\n            errorPercentage: 0,\n          }\n          const groups = Object.values(\n            dataset.reduce((groupById, row) => {\n              const group = (groupById[row.group_id] = groupById[\n                row.group_id\n              ] || {\n                id: row.group_id,\n                thingById: {},\n                count: 0,\n                statusNormalCount: 0,\n                statusAlminCount: 0,\n                statusAlmajCount: 0,\n                noConnectionCount: 0,\n                errorCount: 0,\n                errorPercentage: 0,\n              })\n              if (!group.thingById[row.device]) {\n                group.thingById[row.device] = row\n              } else {\n                const prevRow = group.thingById[row.device]\n                if (parseInt(row.__time) >= parseInt(prevRow.__time)) {\n                  group.thingById[row.device] = row\n                }\n              }\n              return groupById\n            }, {})\n          )\n\n          const now = new Date()\n          for (const group of groups) {\n            for (const thing of Object.values(group.thingById)) {\n              group.count++\n              const msgtime = new Date(Number(`${thing.__time}000`))\n              if (now - msgtime > 1000 * 60 * 60 * 2) {\n                total.noConnectionCount++\n                group.noConnectionCount++\n                total.errorCount++\n                group.errorCount++\n              } else {\n                switch (thing.status) {\n                  case 'normal': {\n                    total.statusNormalCount++\n                    group.statusNormalCount++\n                    break\n                  }\n                  case 'almin': {\n                    total.statusAlminCount++\n                    group.statusAlminCount++\n                    total.errorCount++\n                    group.errorCount++\n                    break\n                  }\n                  case 'almaj': {\n                    total.statusAlmajCount++\n                    group.statusAlmajCount++\n                    total.errorCount++\n                    group.errorCount++\n                    break\n                  }\n                }\n              }\n            }\n            group.errorPercentage = Math.round(\n              (group.errorCount / group.count) * 100\n            )\n          }\n          total.errorPercentage = Math.round(\n            (total.errorCount / total.count) * 100\n          )\n\n          return {\n            ...state,\n            dataPending: false,\n            data: payload,\n            total,\n            groups,\n          }\n        }\n        case 'failure': {\n          return {\n            ...state,\n            dataPending: false,\n            dataError: payload,\n          }\n        }\n      }\n      return state\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","export const DISPATCH_FILTER_PARAMS_SET = 'DISPATCH_FILTER_PARAMS_SET'\n\nexport function setDispatchFilterParams(params) {\n  return dispatch => {\n    dispatch({\n      type: DISPATCH_FILTER_PARAMS_SET,\n      params,\n    })\n  }\n}\n","import { DISPATCH_FILTER_PARAMS_SET } from '../actions/DispatchActions'\n\nconst initialState = {\n  filter: {\n    params: {\n      address: null,\n      noPower: true,\n      noConnection2h: false,\n      noConnection24h: false,\n      noEthernet: false,\n      lowGsm: false,\n      statusNormal: false,\n      statusAlmin: false,\n      statusAlmaj: false,\n      activeEthernet: false,\n      activeGsm: false,\n      noConnection: false,\n    },\n  },\n}\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case DISPATCH_FILTER_PARAMS_SET: {\n      const { params } = action\n      return {\n        ...state,\n        filter: {\n          ...state.filter,\n          params,\n        },\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n","import { combineReducers } from 'redux'\nimport session from './session'\nimport addressList from './addressList'\nimport groupsList from './groupsList'\nimport eventList from './eventList'\nimport thingList from './thingList'\nimport analyst from './analyst'\nimport dispatch from './dispatch'\n\nexport default combineReducers({\n  session,\n  addressList,\n  groupsList,\n  eventList,\n  thingList,\n  analyst,\n  dispatch,\n})\n","import React from 'react'\nimport { Route, Redirect, Switch } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  console.log('PrivateRoute rest:', Component)\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        rest.isAuth ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: '/login',\n              state: { from: props.location },\n            }}\n          />\n        )\n      }\n    />\n  )\n}\n\nfunction mapStateToProps(state) {\n  console.log('PrivateRoute state:', state)\n  return {\n    isAuth: state.session.user,\n  }\n}\n\nexport default connect(mapStateToProps)(PrivateRoute)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Redirect } from 'react-router-dom'\nimport Cookies from 'universal-cookie'\nconst cookies = new Cookies()\nexport const WRITE_CRED_TO_STORE = 'WRITE_CRED_TO_STORE'\n\n//cookies.set('myCat', 'Pacman', { path: '/' });\n\nclass Login extends React.Component {\n  state = {\n    redirectToPreviousRoute: false,\n    username: '',\n    password: '',\n  }\n\n  componentDidMount() {\n    //console.log(\"cookies.get()=\",cookies.get('credentials'));\n    var cCred = cookies.get('credentials')\n    if (cCred)\n      if (\n        cCred['name'] &&\n        cCred['accessKeyId'] &&\n        cCred['endpoint'] &&\n        cCred['region'] &&\n        cCred['secretAccessKey'] &&\n        cCred['accessToken'] &&\n        cCred['idToken'] &&\n        cCred['sessionToken']\n      ) {\n        //console.log(\"AUTH CHECK SUCCESS\");\n        var params = {\n          name: cCred['name'],\n          credentials: {\n            accessKeyId: cCred['accessKeyId'],\n            accessToken: cCred['accessToken'],\n            idToken: cCred['idToken'],\n            endpoint: cCred['endpoint'],\n            region: cCred['region'],\n            secretAccessKey: cCred['secretAccessKey'],\n            sessionToken: cCred['sessionToken'],\n          },\n        }\n        this.props.writeCred(params, () => {\n          this.setState({ redirectToPreviousRoute: true })\n        })\n      }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    const { username, password } = this.state\n\n    this.props.logIn(\n      {\n        username,\n        password,\n      },\n      () => {\n        this.setState({ redirectToPreviousRoute: true })\n      }\n    )\n  }\n\n  handleChange = e => {\n    const value = e.currentTarget.value\n    const fieldName = e.currentTarget.dataset.fieldName\n\n    this.setState(prev => ({\n      ...prev,\n      [fieldName]: value,\n    }))\n  }\n\n  render() {\n    const { location, errorMsg } = this.props\n    const { from } = location.state || { from: { pathname: '/ws' } }\n    const { username, password, redirectToPreviousRoute } = this.state\n\n    if (redirectToPreviousRoute) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div>\n        {errorMsg && <p>{errorMsg}</p>}\n        <form className=\"box\" onSubmit={this.handleSubmit}>\n          <h1>ST-EYE</h1>\n          <input\n            data-field-name={'username'}\n            type={'text'}\n            onChange={this.handleChange}\n            placeholder={'Username'}\n            value={username}\n          />\n          <input\n            data-field-name={'password'}\n            type={'password'}\n            onChange={this.handleChange}\n            placeholder={'Password'}\n            value={password}\n          />\n          <button type=\"submit\">Login</button>\n        </form>\n      </div>\n    )\n  }\n}\n\nLogin.propTypes = {\n  logIn: PropTypes.func.isRequired,\n  credentials: PropTypes.object,\n  errorMsg: PropTypes.string,\n}\n\nexport default Login\n","//import React from 'react'\nimport { connect } from 'react-redux'\nimport { logIn } from '../actions/SessionActions'\nimport { writeCred } from '../actions/SessionActions'\nimport Login from '../components/Login'\n\nconst mapStateToProps = state => ({\n  errorMsg: state.session.errorMsg,\n  timeOut: state.session.timeOut,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  logIn: (params, cb) => dispatch(logIn(params, cb)),\n  writeCred: (params, cb) => dispatch(writeCred(params, cb)),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Login)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Button from 'material-ui/Button'\nimport { Link } from 'react-router-dom'\n\nconst LinkBtn = ({ to, label }) => {\n  return (\n    <Link to={to}>\n      <Button variant=\"raised\" color=\"primary\">\n        <span>{label}</span>\n      </Button>\n    </Link>\n  )\n}\n\nLinkBtn.propTypes = {\n  to: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n}\n\nexport default LinkBtn\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nconst User = ({ user }) => {\n  //console.log(user);\n  if (user)\n    if (user.name)\n      return (\n        <React.Fragment>\n          <div className=\"username\">{user.name}</div>\n        </React.Fragment>\n      )\n    else\n      return (\n        <React.Fragment>\n          <Link className=\"loginLink\" to=\"/login\">\n            <div className=\"username\">{'Войти'}</div>\n          </Link>\n        </React.Fragment>\n      )\n}\n\nexport default User\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport User from '../components/User'\n//var gData;\n\nconst mapStateToProps = state => ({\n  user: state.session.user,\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nclass UserContainer extends React.Component {\n  state = {\n    loggedIn: null,\n  }\n\n  render() {\n    return <User user={{ ...this.props.user }} />\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UserContainer)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Box from '@material-ui/core/Box'\nimport Paper from '@material-ui/core/Paper'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nclass Analyst extends React.PureComponent {\n  componentDidMount() {\n    const { onFetchData } = this.props\n    onFetchData()\n  }\n\n  render() {\n    const { classes } = this.props\n    const { groupListComponent: GroupList } = this.props\n    return (\n      <Box className={classes.root} display=\"flex\" flexGrow={1}>\n        <Paper\n          component={Box}\n          flexGrow={1}\n          display=\"flex\"\n          flexDirection=\"column\"\n          m={2}\n        >\n          <Toolbar>\n            <Typography variant=\"h6\">Текущие показания</Typography>\n          </Toolbar>\n          <GroupList />\n        </Paper>\n      </Box>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n})\n\nexport default withStyles(styles)(Analyst)\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nclass AnalystGroupListItem extends React.PureComponent {\n  render() {\n    const { index, style, data: { classes, total, groups } = {} } = this.props\n    if (index === 0) {\n      return (\n        <div className={`${classes.item}`} style={style}>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_title}`}>\n            Всего\n          </div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            to={`/dispatch`}\n          >\n            {total.count}\n          </Link>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_error}`}>\n            {total.errorPercentage}%\n          </div>\n          <div\n            className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n          ></div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?noConnection=true`}\n          >\n            {total.noConnectionCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusNormal=true`}\n          >\n            {total.statusNormalCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusAlmin=true`}\n          >\n            {total.statusAlminCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?statusAlmaj=true`}\n          >\n            {total.statusAlmajCount}\n          </Link>\n        </div>\n      )\n    } else {\n      const group = groups[index - 1]\n      return (\n        <div className={`${classes.item}`} style={style}>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_title}`}>\n            Группа {group.id}\n          </div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            to={`/dispatch?address=${group.id}`}\n          >\n            {group.count}\n          </Link>\n          <div className={`${classes.itemColumn} ${classes.itemColumn_error}`}>\n            {group.errorPercentage}%\n          </div>\n          <div\n            className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n          ></div>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&noConnection=true`}\n          >\n            {group.noConnectionCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusNormal=true`}\n          >\n            {group.statusNormalCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusAlmin=true`}\n          >\n            {group.statusAlminCount}\n          </Link>\n          <Link\n            className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            to={`/dispatch?address=${group.id}&statusAlmaj=true`}\n          >\n            {group.statusAlmajCount}\n          </Link>\n        </div>\n      )\n    }\n  }\n}\n\nexport default AnalystGroupListItem\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport { FixedSizeList as List } from 'react-window'\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\nimport AnalystGroupListItem from './AnalystGroupListItem'\nimport Box from '@material-ui/core/Box'\n\nclass AnalystGroupList extends React.PureComponent {\n  render() {\n    const { classes, total, groups } = this.props\n    if (!groups) {\n      return null\n    }\n    return (\n      <Box flexGrow={1} display=\"flex\" flexDirection=\"column\">\n        <Box>\n          <div className={`${classes.head}`}>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_title}`}\n            ></div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_count}`}\n            >\n              Всего\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_error}`}\n            >\n              % с неполадками\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_service}`}\n            >\n              Сервис\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              Нет связи\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              Норма\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              Нарушение\n            </div>\n            <div\n              className={`${classes.itemColumn} ${classes.itemColumn_status}`}\n            >\n              Авария\n            </div>\n          </div>\n        </Box>\n        <Box flexGrow={1} position=\"relative\">\n          <AutoSizer>\n            {({ width, height }) => (\n              <List\n                className={classes.list}\n                width={width}\n                height={height}\n                itemCount={groups.length + 1}\n                itemSize={49}\n                overscanCount={5}\n                itemData={{\n                  classes,\n                  total,\n                  groups,\n                }}\n              >\n                {AnalystGroupListItem}\n              </List>\n            )}\n          </AutoSizer>\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  head: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n  },\n  item: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    '&:last-child': {\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    },\n  },\n  itemColumn: {\n    display: 'flex',\n    alignItems: 'center',\n    boxSizing: 'border-box',\n    minWidth: 0,\n    overflow: 'hidden',\n    //alignItems: 'center',\n    height: 48,\n    paddingLeft: 12,\n    paddingRight: 12,\n    lineHeight: '16px',\n    fontSize: '14px',\n    '&:first-child': {\n      paddingLeft: theme.spacing(3),\n    },\n    '&:last-child': {\n      paddingRight: theme.spacing(3),\n    },\n  },\n  itemColumn_title: {\n    flex: '2 2 25%',\n  },\n  itemColumn_count: {\n    flex: `1 1 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n    '$item &': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '$item &:hover': {\n      textDecoration: 'underline',\n      color: theme.palette.primary.main,\n    },\n  },\n  itemColumn_error: {\n    flex: `1 1 15%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n  },\n  itemColumn_service: {\n    flex: `1 1 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n  },\n  itemColumn_status: {\n    flex: `2 2 10%`,\n    whiteSpace: 'nowrap',\n    justifyContent: 'flex-end',\n    '$item &': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '$item &:hover': {\n      textDecoration: 'underline',\n      color: theme.palette.primary.main,\n    },\n  },\n})\n\nexport default withStyles(styles)(AnalystGroupList)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport AnalystGroupList from '../components/AnalystGroupList'\n\nconst mapStateToProps = state => ({\n  groups: state.analyst.groups,\n  total: state.analyst.total,\n})\n\nconst mapDispatchToProps = dispatch => ({})\n\nclass AnalystGroupListContainer extends React.PureComponent {\n  render() {\n    return <AnalystGroupList {...this.props} />\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AnalystGroupListContainer)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Analyst from '../components/Analyst'\nimport { fetchAnalystData } from '../actions/AnalystActions'\nimport AnalystGroupListContainer from './AnalystGroupListContainer'\nclass AnalystContainer extends React.Component {\n  render() {\n    return (\n      <Analyst groupListComponent={AnalystGroupListContainer} {...this.props} />\n    )\n  }\n}\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({\n  onFetchData: params => dispatch(fetchAnalystData(params)),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AnalystContainer)\n","import React from 'react'\n\nconst Loading = () => {\n  return (\n    <React.Fragment>\n      <img\n        id=\"loading\"\n        alt=\"loading...\"\n        src=\"https://avatanplus.com/files/resources/original/59c802178c1fe15eb5482c16.png\"\n      ></img>\n    </React.Fragment>\n  )\n}\n\nexport default Loading\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Loading from '../components/Loading'\nimport LinkBtn from '../components/LinkBtn'\n\nconst WsSelect = ({ user }) => {\n  //console.log(user)\n  var listButtons\n  if (user.groups) {\n    var i = 0\n    listButtons = user.groups.map(group => (\n      <LinkBtn key={i++} to={group} label={group} />\n    ))\n  }\n  return (\n    <div className={'news-list'}>\n      {!user.groups ? (\n        <Loading />\n      ) : (\n        <React.Fragment>\n          <div className=\"selection_header\">\n            <h1>Выберите автоматизированное рабочее место</h1>\n          </div>\n          <div className=\"selection_container\">\n            <div className=\"wspanel\">\n              <a href=\"/analyst\">\n                <div>\n                  <img\n                    src={require('../resources/analytics.svg')}\n                    alt=\"analytics_img\"\n                  ></img>\n                </div>\n                <hr />\n                <div className=\"wspanel_title\">\n                  <h3>Руководитель</h3>\n                  <span className=\"stitle\">.</span>\n                </div>\n              </a>\n            </div>\n            <div className=\"wspanel\">\n              <a href=\"/dispatch\">\n                <div>\n                  <img\n                    src={require('../resources/dispatching.svg')}\n                    alt=\"dispatching_img\"\n                  ></img>\n                </div>\n                <hr />\n                <div className=\"wspanel_title\">\n                  <h3>Диспетчер</h3>\n                  <span className=\"stitle\">.</span>\n                </div>\n              </a>\n            </div>\n          </div>\n        </React.Fragment>\n      )}\n    </div>\n  )\n}\n\nWsSelect.propTypes = {\n  user: PropTypes.object.isRequired,\n}\n\nexport default WsSelect\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport WsSelect from '../components/WsSelect'\nimport Loading from '../components/Loading'\nimport { AWS_CONFIG } from '../settings/aws/AwsConfig'\nvar AWS = require('aws-sdk')\n\nclass WsSelectContainer extends React.Component {\n  state = {\n    groups: null,\n  }\n\n  getUserGroups() {\n    return new Promise((resolve, reject) => {\n      var listGroupsParams = {\n        Username: this.props.user.name,\n        UserPoolId: AWS_CONFIG.userPoolId,\n      }\n\n      var loginCredentialsProvider =\n        'cognito-idp.' +\n        AWS_CONFIG.region +\n        '.amazonaws.com/' +\n        AWS_CONFIG.userPoolId\n      AWS.config.update({ region: AWS_CONFIG.region })\n\n      // Add the User's Id Token to the Cognito credentials login map.\n      AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n        IdentityPoolId: AWS_CONFIG.identityPoolId,\n        Logins: {\n          [loginCredentialsProvider]: this.props.user.credentials.idToken,\n        },\n      })\n\n      AWS.config.credentials.get(error => {\n        if (error) {\n          console.log('CONFIGERROR')\n          AWS.config.credentials.clearCachedId()\n          console.error(error)\n          reject(error)\n        } else {\n          var cognitoISP = new AWS.CognitoIdentityServiceProvider()\n          cognitoISP.adminListGroupsForUser(listGroupsParams, function(\n            err,\n            data\n          ) {\n            if (err) {\n              console.log(err, err.stack)\n              reject(err)\n            } // an error occurred\n            resolve(data)\n          })\n        }\n      })\n    })\n  }\n\n  componentDidMount() {\n    //console.log(this.props.user.credentials.accessKeyId);\n    //console.log('deez nuts',this.props);\n    this._asyncRequest = this.getUserGroups().then(data => {\n      this._asyncRequest = null\n      //this.setState({groups: groups});\n      //console.log(data.Groups);\n      this.setState({\n        groups: data.Groups.map(el => {\n          return el.GroupName\n        }),\n      })\n      //console.log(\"stategroups\", this.state.groups);\n\n      //console.log('getUserGroups promise resolved');\n    })\n    //setTimeout(this.setState({groups: \"group1\"}), 10000)\n  }\n\n  render() {\n    console.log('WsSelectContainer state:', this.state)\n    console.log('WsSelectContainer props:', this.props)\n    if (!this.state.groups) return <Loading />\n    return <WsSelect user={{ ...this.props.user, groups: this.state.groups }} />\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.session.user,\n})\n\nexport default connect(mapStateToProps)(WsSelectContainer)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nclass ThingIdentity extends React.PureComponent {\n  render() {\n    const { classes, thing, addressById } = this.props\n    if (!thing) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        <span>{thing.device}</span>\n        @\n        {!!thing.address_id &&\n        !!addressById &&\n        !!addressById[thing.address_id] ? (\n          <span>{addressById[thing.address_id].name.S}</span>\n        ) : (\n          <span>Неизвестно</span>\n        )}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n})\n\nexport default withStyles(styles)(ThingIdentity)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Box from '@material-ui/core/Box'\nimport Paper from '@material-ui/core/Paper'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Chip from '@material-ui/core/Chip'\nimport Dialog from '@material-ui/core/Dialog'\nimport AppBar from '@material-ui/core/AppBar/AppBar'\nimport Container from '@material-ui/core/Container'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport ThingIdentity from './Thing/ThingIdentity'\n//import MdiIcon from '@mdi/react'\n//import { mdiChip, mdiLockOpen } from '@mdi/js'\n\nimport CloseIcon from '@material-ui/icons/Close'\nimport { IconButton } from '@material-ui/core'\n//import DialogActions from '@material-ui/core/DialogActions'\n//import Button from '@material-ui/core/Button'\n\nclass Dispatch extends React.Component {\n  state = {\n    thing: null,\n  }\n\n  render() {\n    const { classes } = this.props\n    const {\n      filterComponent: Filter,\n      eventListComponent: EventList,\n      thingListComponent: ThingList,\n      thingDetailsComponent: ThingDetails,\n    } = this.props\n    return (\n      <React.Fragment>\n        <Box className={classes.root} display=\"flex\" flexGrow={1}>\n          <Filter />\n          <Box flexGrow={1} display=\"flex\" flexDirection=\"column\" pt={2} pb={2}>\n            <Paper\n              component={Box}\n              height=\"62%\"\n              display=\"flex\"\n              flexDirection=\"column\"\n              mb={2}\n            >\n              <Toolbar>\n                <Typography variant=\"h6\">Текущие показания</Typography>\n              </Toolbar>\n              <Box flexGrow={1} position=\"relative\">\n                <ThingList\n                  onClickThing={thing => {\n                    this.setState({ thing })\n                  }}\n                />\n              </Box>\n            </Paper>\n            <Paper\n              component={Box}\n              flexGrow={1}\n              display=\"flex\"\n              flexDirection=\"column\"\n            >\n              <Toolbar>\n                <Typography variant=\"h6\">Журнал событий</Typography>\n                <div>\n                  <Chip className={classes.chip} label=\"Все события\" />\n                  <Chip className={classes.chip} label=\"Связь\" />\n                  <Chip className={classes.chip} label=\"Охрана\" />\n                  <Chip className={classes.chip} label=\"Оборудование\" />\n                </div>\n              </Toolbar>\n              <Box flexGrow={1} position=\"relative\">\n                <EventList />\n              </Box>\n            </Paper>\n          </Box>\n          <Dialog\n            classes={{\n              container: classes.dialogContainer,\n              paper: classes.dialogPaper,\n            }}\n            open={!!this.state.thing}\n            onClose={() => {\n              this.setState({ thing: null })\n            }}\n            maxWidth=\"md\"\n            fullWidth\n          >\n            {this.state.thing && (\n              <React.Fragment>\n                <AppBar\n                  className={classes.dialogBar}\n                  position=\"static\"\n                  color=\"primary\"\n                  elevation={0}\n                >\n                  <Container maxWidth={false}>\n                    <Toolbar disableGutters>\n                      {/*<MdiIcon\n                        //className={`${classes.icon} ${classes.icon_textPrimary}`}\n                        path={mdiChip}\n                        size={1}\n                        style={{ fill:'currentColor', marginRight:8 }}\n                      />*/}\n                      <Typography variant=\"h6\" style={{ flexGrow: 1 }}>\n                        Контроллер <ThingIdentity thing={this.state.thing} />\n                      </Typography>\n                      <IconButton\n                        color=\"inherit\"\n                        edge=\"end\"\n                        onClick={() => {\n                          this.setState({ thing: null })\n                        }}\n                      >\n                        <CloseIcon color=\"inherit\" />\n                      </IconButton>\n                    </Toolbar>\n                  </Container>\n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                  <Container maxWidth={false}>\n                    <ThingDetails thing={this.state.thing} />\n                  </Container>\n                </DialogContent>\n                {/*<DialogActions className={classes.dialogActions}>\n                  <Button\n                    className={classes.dialogAction}\n                    variant=\"outlined\"\n                    color=\"default\"\n                    onClick={() => {\n                      this.setState({ thing: null })\n                    }}\n                  >\n                    Закрыть\n                  </Button>\n                </DialogActions>*/}\n              </React.Fragment>\n            )}\n          </Dialog>\n        </Box>\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  chip: {\n    marginLeft: 12,\n  },\n  dialogContainer: {\n    alignItems: 'start',\n  },\n  dialogPaper: {\n    marginTop: 56 + 16,\n  },\n  dialogBar: {\n    backgroundColor: 'rgba(25,25,25,1)',\n  },\n  dialogContent: {\n    padding: theme.spacing(3, 0),\n  },\n  dialogActions: {\n    padding: theme.spacing(1),\n    justifyContent: 'flex-start',\n  },\n  dialogAction: {\n    padding: theme.spacing(1, 3),\n  },\n})\n\nexport default withStyles(styles)(Dispatch)\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { withStyles } from '@material-ui/styles'\nimport { withRouter } from 'react-router'\n\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport FormGroup from '@material-ui/core/FormGroup'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport NativeSelect from '@material-ui/core/NativeSelect'\n\nimport { parse, stringify } from 'query-string'\nimport Box from '@material-ui/core/Box'\n\nconst PARAMS = {\n  address: null,\n  noPower: false,\n  noConnection2h: false,\n  noConnection24h: false,\n  noEthernet: false,\n  lowGsm: false,\n  activeEthernet: false,\n  activeGsm: false,\n  noConnection: false,\n  statusNormal: false,\n  statusAlmin: false,\n  statusAlmaj: false,\n}\n\nclass Filter extends React.PureComponent {\n  state = {\n    params: {\n      ...PARAMS,\n    },\n  }\n\n  componentDidMount() {\n    const {\n      location: { search },\n      setParams,\n    } = this.props\n    const searchParams = parse(search)\n    const params = Object.keys(PARAMS).reduce((params, k) => {\n      switch (k) {\n        case 'address': {\n          params[k] = searchParams[k] || null\n          break\n        }\n        default: {\n          params[k] = !!searchParams[k]\n        }\n      }\n      return searchParams\n    }, {})\n    setParams(params)\n    const { user, fetchGroupsList } = this.props\n    fetchGroupsList(user)\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.params !== this.props.params) {\n      const { params } = this.props\n      this.setState({ params })\n    }\n  }\n\n  handleChangeAddress = ({ target: { value: address } }) => {\n    this.setState({\n      params: {\n        ...this.state.params,\n        address,\n      },\n    })\n  }\n\n  handleChangeCheckbox = ({ target: { value, checked } }) => {\n    this.setState({\n      params: {\n        ...this.state.params,\n        [value]: checked,\n      },\n    })\n  }\n\n  handleSubmit = () => {\n    let hasParams = false\n    const searchParamsOrder = []\n    const searchParams = Object.entries(this.state.params).reduce(\n      (searchParams, [k, v]) => {\n        if (!hasParams && v) {\n          hasParams = true\n        }\n        searchParamsOrder.push(k)\n        searchParams[k] = v || undefined\n        return searchParams\n      },\n      {}\n    )\n    const { history, location } = this.props\n    if (!hasParams) {\n      history.push(location.pathname)\n    } else {\n      const search = stringify(searchParams, {\n        sort: (a, b) =>\n          searchParamsOrder.indexOf(a) - searchParamsOrder.indexOf(b),\n      })\n      history.push(`${location.pathname}?${search}`)\n    }\n    this.props.setParams(this.state.params)\n  }\n\n  isSubmitted() {\n    return (\n      JSON.stringify(this.state.params) === JSON.stringify(this.props.params)\n    )\n  }\n\n  render() {\n    const { classes, groupsList } = this.props\n    return (\n      <div className={classes.root}>\n        <Box\n          position=\"absolute\"\n          style={{ top: 0, right: 0, bottom: -1, left: 0, overflowY: 'auto' }}\n          p={2}\n        >\n          <Typography className={classes.heading} variant=\"h6\" paragraph>\n            Фильтр объектов\n          </Typography>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Адрес\n          </Typography>\n          <NativeSelect\n            className={classes.address}\n            classes={{ select: classes.addressSelect }}\n            value={this.state.params.address || ''}\n            onChange={this.handleChangeAddress}\n            fullWidth\n          >\n            <option value={''} style={{ color: '#aaa' }}>\n              Выберите адрес\n            </option>\n            {!!groupsList &&\n              !!groupsList.Items &&\n              groupsList.Items.map(item => (\n                <option key={item.id.N} value={item.id.N}>\n                  {item.name.S}\n                </option>\n              ))}\n          </NativeSelect>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Состояние\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Норма\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusNormal\"\n                  checked={this.state.params.statusNormal}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нарушение\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusAlmin\"\n                  checked={this.state.params.statusAlmin}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Авария\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"statusAlmaj\"\n                  checked={this.state.params.statusAlmaj}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection\"\n                  checked={this.state.params.noConnection}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Связь\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Активный канал Ethernet\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"activeEthernet\"\n                  checked={this.state.params.activeEthernet}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Активный канал GSM\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"activeGsm\"\n                  checked={this.state.params.activeGsm}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи более 2 ч.\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection2h\"\n                  checked={this.state.params.noConnection2h}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Нет связи более 24 ч.\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noConnection24h\"\n                  checked={this.state.params.noConnection24h}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Отключен Ethernet\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noEthernet\"\n                  checked={this.state.params.noEthernet}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Низкий уровень приема GSM\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"lowGsm\"\n                  checked={this.state.params.lowGsm}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Typography\n            className={classes.subtitle}\n            variant=\"subtitle1\"\n            color=\"primary\"\n          >\n            Другое\n          </Typography>\n          <FormGroup>\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Отключено питание\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  value=\"noPower\"\n                  checked={this.state.params.noPower}\n                  onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n            <FormControlLabel\n              classes={{\n                root: classes.checkboxControl,\n                label: classes.checkboxControlLabel,\n              }}\n              label=\"Аномалии в данных\"\n              control={\n                <Checkbox\n                  classes={{ root: classes.checkbox }}\n                  color=\"primary\"\n                  //checked={this.state.params.noPower}\n                  //onChange={this.handleChangeCheckbox}\n                />\n              }\n            />\n          </FormGroup>\n\n          <Button\n            className={classes.submit}\n            variant={this.isSubmitted() ? 'outlined' : 'contained'}\n            color=\"secondary\"\n            onClick={this.handleSubmit}\n            fullWidth\n          >\n            Применить\n          </Button>\n        </Box>\n      </div>\n    )\n  }\n}\n\nFilter.propTypes = {\n  params: PropTypes.object.isRequired,\n}\n\nconst styles = theme => ({\n  root: {\n    position: 'relative',\n    width: '15%',\n    minWidth: 240,\n    margin: theme.spacing(2),\n    //padding: theme.spacing(2),\n    color: '#fff',\n    background: 'rgba(25,25,25,1)',\n    borderRadius: theme.shape.borderRadius,\n    boxShadow: '1px 1px 2px rgba(25,25,25,.16)',\n  },\n  heading: {},\n  subtitle: {\n    marginTop: theme.spacing(2),\n    fontWeight: 700,\n  },\n  address: {\n    marginTop: theme.spacing(1.5),\n    marginBottom: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: theme.shape.borderRadius,\n    '&::before': {\n      borderBottomColor: 'transparent !important',\n    },\n  },\n  addressSelect: {\n    padding: theme.spacing(1, 3, 1, 1.5),\n  },\n  checkboxControl: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  checkboxControlLabel: {\n    ...theme.typography.body2,\n    fontSize: '12px',\n    paddingTop: 2,\n  },\n  checkbox: {\n    color: theme.palette.primary.main,\n  },\n  submit: {\n    marginTop: theme.spacing(2.5),\n  },\n})\n\nexport default withRouter(withStyles(styles)(Filter))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Filter from '../components/Filter'\nimport { setDispatchFilterParams } from '../actions/DispatchActions'\nimport { fetchGroupsList } from '../actions/GroupsListActions'\n\nconst mapStateToProps = state => ({\n  user: state.session.user,\n  params: state.dispatch.filter.params,\n  addressList: state.addressList.list,\n  addressListPending: state.addressList.listPending,\n  addressListError: state.addressList.listError,\n  groupsList: state.groupsList.list,\n  groupsListPending: state.groupsList.listPending,\n  groupsListError: state.groupsList.listError,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  setParams: params => dispatch(setDispatchFilterParams(params)),\n  fetchGroupsList: params => dispatch(fetchGroupsList(params)),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Filter)\n","import React from 'react'\n\nimport CheckCircleIcon from '@material-ui/icons/Lens'\nimport moment from 'moment'\n\nclass DispatchEventListItem extends React.PureComponent {\n  render() {\n    const {\n      index,\n      style,\n      data: { classes, list, addressById, onClickThing } = {},\n    } = this.props\n    const item = list.Items[index]\n    return (\n      <div\n        className={classes.item}\n        style={style}\n        //onClick={() => { onClickThing(thing) }}\n      >\n        <div className={`${classes.itemColumn} ${classes.itemColumn_level}`}>\n          {!item.level ? (\n            <CheckCircleIcon className={classes.itemIcon} color=\"action\" />\n          ) : item.level.S === 'I' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(46,204,113)' }}\n            />\n          ) : item.level.S === 'W' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(252,118,0)' }}\n            />\n          ) : item.level.S === 'U' ? (\n            <CheckCircleIcon\n              className={classes.itemIcon}\n              style={{ color: 'rgb(232,15,15)' }}\n            />\n          ) : (\n            <CheckCircleIcon className={classes.itemIcon} color=\"action\" />\n          )}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_device}`}>\n          {item.device.S}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_message}`}>\n          {item.message.S}\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_time}`}>\n          {moment(Number(item.time.N)).format('DD.MM.YY HH:mm')}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DispatchEventListItem\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport { FixedSizeList as List } from 'react-window'\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\nimport DispatchEventListItem from './DispatchEventListItem'\n\nclass DispatchEventList extends React.PureComponent {\n  state = {}\n\n  render() {\n    const { classes, user, list, onClickThing } = this.props\n    if (!list) {\n      return null\n    }\n    return (\n      <AutoSizer>\n        {({ width, height }) => (\n          <List\n            className={classes.list}\n            width={width}\n            height={height}\n            itemCount={list.Items.length}\n            itemSize={48}\n            overscanCount={1}\n            itemData={{\n              classes,\n              list,\n              onClickThing,\n            }}\n          >\n            {DispatchEventListItem}\n          </List>\n        )}\n      </AutoSizer>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  item: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    '&:last-child': {\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    },\n  },\n  itemColumn: {\n    display: 'flex',\n    alignItems: 'center',\n    boxSizing: 'border-box',\n    minWidth: 0,\n    overflow: 'hidden',\n    //alignItems: 'center',\n    height: 48,\n    paddingLeft: 12,\n    paddingRight: 12,\n    lineHeight: '16px',\n    fontSize: '14px',\n    '&:first-child': {\n      paddingLeft: theme.spacing(3),\n    },\n  },\n  itemColumn_level: {\n    flex: `0 0 ${theme.spacing(3) + 24 + theme.spacing(3)}px`,\n    whiteSpace: 'nowrap',\n  },\n  itemColumn_device: {\n    flex: '0 1 20%',\n  },\n  itemColumn_message: {\n    flex: '1 1 40%',\n  },\n  itemColumn_time: {},\n  itemIcon: {\n    width: 16,\n    height: 16,\n    marginLeft: 4,\n  },\n})\n\nexport default withStyles(styles)(DispatchEventList)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { fetchEventList } from '../actions/EventListActions'\n\nimport DispatchEventList from '../components/DispatchEventList'\n\nconst mapStateToProps = state => ({\n  user: state.session.user,\n  list: state.eventList.list,\n  listPending: state.eventList.listPending,\n  listError: state.eventList.listError,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  fetchEventList: params => dispatch(fetchEventList(params)),\n})\n\nclass DispatchEventListContainer extends React.PureComponent {\n  componentDidMount() {\n    this.props.fetchEventList()\n  }\n\n  render() {\n    return <DispatchEventList {...this.props} />\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  DispatchEventListContainer\n)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport LensIcon from '@material-ui/icons/Lens' // import CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport NewReleasesIcon from '@material-ui/icons/NewReleases'\nimport HelpIcon from '@material-ui/icons/Help'\n\nclass ThingStatus extends React.PureComponent {\n  isDisconnected() {\n    const { thing, thingShadow } = this.props\n    let date\n    if (!thingShadow) {\n      date = new Date(Number(`${thing.msgtime}000`))\n    } else {\n      date = new Date(Number(`${thingShadow.state.reported.msgtime}000`))\n    }\n    const now = new Date()\n    if (now - date > 1000 * 60 * 60 * 2) {\n      return true\n    }\n    return false\n  }\n\n  getStatus() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.status\n    } else {\n      return thingShadow.state.reported.status\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    const disconnected = this.isDisconnected()\n    const status = this.getStatus()\n    return (\n      <React.Fragment>\n        {!hideIcon &&\n          (status === 'normal' ? (\n            <React.Fragment>\n              <LensIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(46,204,113)' }}\n              />\n            </React.Fragment>\n          ) : status === 'almin' ? (\n            <React.Fragment>\n              <ErrorIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(252,118,0)' }}\n              />\n            </React.Fragment>\n          ) : status === 'almaj' ? (\n            <React.Fragment>\n              <NewReleasesIcon\n                className={classes.icon}\n                style={{ color: disconnected ? '#3498db' : 'rgb(232,15,15)' }}\n              />\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              <HelpIcon className={classes.icon} color=\"action\" />\n            </React.Fragment>\n          ))}\n        {!hideLabel && <span className={classes.label}>Статус</span>}\n        {!hideValue &&\n          (status === 'normal' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (норма)\n                </span>\n              ) : (\n                <span>Норма</span>\n              )}\n            </React.Fragment>\n          ) : status === 'almin' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (нарушение)\n                </span>\n              ) : (\n                <span>Нарушение</span>\n              )}\n            </React.Fragment>\n          ) : status === 'almaj' ? (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (авария)\n                </span>\n              ) : (\n                <span>Авария</span>\n              )}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              {disconnected ? (\n                <span>\n                  <b>Нет связи</b> (неизвестно)\n                </span>\n              ) : (\n                <span>Неизвестно</span>\n              )}\n            </React.Fragment>\n          ))}\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n})\n\nexport default withStyles(styles)(ThingStatus)\n","import React from 'react'\n\nimport moment from 'moment'\nimport ThingStatus from './Thing/ThingStatus'\nimport ThingIdentity from './Thing/ThingIdentity'\n\nclass DispatchThingListItem extends React.PureComponent {\n  isDisconnectedThing(thing) {\n    const ts = new Date(Number(`${thing.msgtime}000`))\n    const now = new Date()\n    if (now - ts > 1000 * 60 * 60 * 2) {\n      return true\n    }\n    return false\n  }\n\n  render() {\n    const {\n      index,\n      style,\n      data: { classes, data, addressById, onClickThing } = {},\n    } = this.props\n    const thing = data[index]\n    return (\n      <div\n        className={`${classes.item} ${\n          this.isDisconnectedThing(thing) ? classes.item_noConnection : ''\n        }`}\n        style={style}\n        onClick={() => {\n          onClickThing(thing)\n        }}\n      >\n        <div className={`${classes.itemColumn} ${classes.itemColumn_status}`}>\n          <ThingStatus thing={thing} hideLabel />\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_object}`}>\n          <ThingIdentity thing={thing} addressById={addressById} />\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_details}`}>\n          <span>\n            Активный канал -&nbsp;\n            {thing.conn === 'eth'\n              ? 'Ethernet'\n              : thing.conn === 'wifi'\n                ? 'Wi-Fi'\n                : thing.conn === 'gsm' ? 'GSM' : 'Неизвестно'}&nbsp; |\n            Объект&nbsp;\n            {thing.guard === true || thing.guard === 'true' ? (\n              'на охране'\n            ) : (\n              <b>не на охране</b>\n            )}\n            {thing.temperature !== undefined ? (\n              <span>&nbsp;| {thing.temperature} ºC</span>\n            ) : null}\n          </span>\n        </div>\n        <div className={`${classes.itemColumn} ${classes.itemColumn_updated}`}>\n          {/*moment.duration(-123, 'minutes').locale('ru').humanize()*/}\n          {moment(Number(thing.msgtime)).format('DD.MM.YY HH:mm')}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default DispatchThingListItem\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport { FixedSizeList as List } from 'react-window'\nimport AutoSizer from 'react-virtualized/dist/es/AutoSizer'\nimport DispatchThingListItem from './DispatchThingListItem'\nimport { filterRows } from '../services/CsvShkaService'\n\nclass DispatchThingList extends React.PureComponent {\n  state = {\n    data: null,\n  }\n\n  componentDidMount() {\n    const { onFetchThingList } = this.props\n    onFetchThingList()\n    const { onFetchAddressList } = this.props\n    onFetchAddressList()\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { thingListParams, thingList } = this.props\n    if (\n      thingList &&\n      (thingListParams !== prevProps.thingListParams ||\n        thingList !== prevProps.thingList)\n    ) {\n      const data = filterRows(thingList, thingListParams)\n      this.setState({\n        data,\n      })\n    }\n  }\n\n  render() {\n    const { classes, addressList, onClickThing } = this.props\n    const { data } = this.state\n    if (!data || !addressList || !addressList.Items) {\n      return null\n    }\n    const addressById = addressList.Items.reduce((addressById, item) => {\n      addressById[item.group_id.N] = item\n      return addressById\n    }, {})\n    return (\n      <AutoSizer>\n        {({ width, height }) => (\n          <List\n            className={classes.list}\n            width={width}\n            height={height}\n            itemCount={data.length}\n            itemSize={48}\n            overscanCount={1}\n            itemData={{\n              classes,\n              data,\n              addressById,\n              onClickThing,\n            }}\n          >\n            {DispatchThingListItem}\n          </List>\n        )}\n      </AutoSizer>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  item: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    alignItems: 'start',\n    WebkitBoxOrient: 'horizontal',\n    WebkitBoxDirection: 'normal',\n    WebkitBoxAlign: 'start',\n    boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    '&:last-child': {\n      boxShadow: `inset 0 1px 0 0 rgba(0, 0, 0, 0.12), 0 1px 0 0 rgba(0, 0, 0, 0.12)`,\n    },\n  },\n  itemColumn: {\n    display: 'flex',\n    alignItems: 'center',\n    boxSizing: 'border-box',\n    minWidth: 0,\n    overflow: 'hidden',\n    //alignItems: 'center',\n    height: 48,\n    paddingLeft: 12,\n    paddingRight: 12,\n    lineHeight: '16px',\n    fontSize: '14px',\n    '&:first-child': {\n      paddingLeft: theme.spacing(3),\n    },\n  },\n  itemColumn_status: {\n    flex: `0 0 ${theme.spacing(3) + 200 + theme.spacing(3)}px`,\n    whiteSpace: 'nowrap',\n  },\n  itemColumn_object: {\n    flex: '0 1 30%',\n  },\n  itemColumn_details: {\n    flex: '1 1 40%',\n  },\n  itemColumn_updated: {},\n})\n\nexport default withStyles(styles)(DispatchThingList)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { fetchThingList } from '../actions/ThingListActions'\n\nimport DispatchThingList from '../components/DispatchThingList'\nimport { fetchAddressList } from '../actions/AddressListActions'\n\nconst mapStateToProps = state => ({\n  thingListParams: state.dispatch.filter.params,\n  thingList: state.thingList.data,\n  thingListPending: state.thingList.dataPending,\n  thingListError: state.thingList.dataError,\n  addressList: state.addressList.list,\n})\n\nconst mapDispatchToProps = dispatch => ({\n  onFetchThingList: params => dispatch(fetchThingList(params)),\n  onFetchAddressList: params => dispatch(fetchAddressList(params)),\n})\n\nclass DispatchThingListContainer extends React.PureComponent {\n  render() {\n    return <DispatchThingList {...this.props} />\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(DispatchThingListContainer)\n","import Paho from 'paho-mqtt'\nimport * as AWS from 'aws-sdk'\nimport { AWS_CONFIG } from '../settings/aws/AwsConfig'\n\nimport EventEmitter from 'events'\n\nfunction SigV4getSignatureKey(key, date, region, service) {\n  var kDate = AWS.util.crypto.hmac('AWS4' + key, date, 'buffer')\n  var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer')\n  var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer')\n  var kCredentials = AWS.util.crypto.hmac(kService, 'aws4_request', 'buffer')\n  return kCredentials\n}\n\nfunction SigV4getSignedUrl(host, region, credentials) {\n  var datetime = AWS.util.date.iso8601(new Date()).replace(/[:\\-]|\\.\\d{3}/g, '')\n  var date = datetime.substr(0, 8)\n\n  var method = 'GET'\n  var protocol = 'wss'\n  var uri = '/mqtt'\n  var service = 'iotdevicegateway'\n  var algorithm = 'AWS4-HMAC-SHA256'\n\n  var credentialScope =\n    date + '/' + region + '/' + service + '/' + 'aws4_request'\n  var canonicalQuerystring = 'X-Amz-Algorithm=' + algorithm\n  canonicalQuerystring +=\n    '&X-Amz-Credential=' +\n    encodeURIComponent(credentials.accessKeyId + '/' + credentialScope)\n  canonicalQuerystring += '&X-Amz-Date=' + datetime\n  canonicalQuerystring += '&X-Amz-SignedHeaders=host'\n\n  var canonicalHeaders = 'host:' + host + '\\n'\n  var payloadHash = AWS.util.crypto.sha256('', 'hex')\n  var canonicalRequest =\n    method +\n    '\\n' +\n    uri +\n    '\\n' +\n    canonicalQuerystring +\n    '\\n' +\n    canonicalHeaders +\n    '\\nhost\\n' +\n    payloadHash\n\n  var stringToSign =\n    algorithm +\n    '\\n' +\n    datetime +\n    '\\n' +\n    credentialScope +\n    '\\n' +\n    AWS.util.crypto.sha256(canonicalRequest, 'hex')\n  var signingKey = SigV4getSignatureKey(\n    credentials.secretAccessKey,\n    date,\n    region,\n    service\n  )\n  var signature = AWS.util.crypto.hmac(signingKey, stringToSign, 'hex')\n\n  canonicalQuerystring += '&X-Amz-Signature=' + signature\n  if (credentials.sessionToken) {\n    canonicalQuerystring +=\n      '&X-Amz-Security-Token=' + encodeURIComponent(credentials.sessionToken)\n  }\n\n  var requestUrl = protocol + '://' + host + uri + '?' + canonicalQuerystring\n  return requestUrl\n}\n\nclass AwsMqttClient extends EventEmitter {\n  constructor(client) {\n    super()\n    this.client = client\n    this.client.onMessageArrived = message => {\n      this.emit(message.destinationName, message)\n    }\n  }\n}\n\nlet awsMqttClient = null\n\nexport function getAwsMqttClient() {\n  if (awsMqttClient) {\n    return Promise.resolve(awsMqttClient)\n  }\n  const requestUrl = SigV4getSignedUrl(\n    'a2xnjhywaij79l-ats.iot.us-west-2.amazonaws.com',\n    AWS.config.region,\n    AWS.config.credentials\n  )\n  const client = new Paho.Client(requestUrl, AWS_CONFIG.clientId)\n  return new Promise((resolve, reject) => {\n    client.connect({\n      onSuccess: () => {\n        console.log('connected!11')\n        awsMqttClient = new AwsMqttClient(client)\n        resolve(awsMqttClient)\n      },\n    })\n  })\n}\n\n//export function connectToAwsMqtt() {\n//  const requestUrl= SigV4getSignedUrl('a2xnjhywaij79l-ats.iot.us-west-2.amazonaws.com', AWS.config.region, AWS.config.credentials)\n//  const client = new Paho.Client(requestUrl, AWS_CONFIG.clientId)\n//  return new Promise((resolve, reject) => {\n//    client.connect({\n//      onSuccess: () => {\n//        console.log('connected!11')\n//        resolve(client)\n//      }\n//    })\n//  })\n//}\n\nexport function subscribeThingShadowGet(thing, { timeout = 3 } = {}) {\n  return Promise.all([\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/get/accepted`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/get/rejected`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n  ])\n}\n\nexport function subscribeThingShadowUpdate(thing, { timeout = 3 } = {}) {\n  return Promise.all([\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/update/accepted`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n    new Promise((onSuccess, onFailure) => {\n      awsMqttClient.client.subscribe(\n        `$aws/things/${thing.device}/shadow/update/rejected`,\n        { onSuccess, onFailure, timeout }\n      )\n    }),\n  ])\n}\n\nexport function requestThingShadowGet(thing) {\n  const message = new Paho.Message('')\n  message.destinationName = `$aws/things/${thing.device}/shadow/get`\n  awsMqttClient.client.send(message)\n}\n\nexport function requestThingShadowUpdate(thing, thingShadow) {\n  const message = new Paho.Message(JSON.stringify(thingShadow))\n  message.destinationName = `$aws/things/${thing.device}/shadow/update`\n  awsMqttClient.client.send(message)\n}\n\nexport async function resolveThingShadowUpdate(thing, thingShadow) {\n  return new Promise(async (resolve, reject) => {\n    //const client= await connectToAwsMqtt()\n    //client.onMessageArrived= (message) => {\n    //  if (message.destinationName === `$aws/things/${this.props.thing.device}/shadow/update/accepted`) {\n    //    console.warn('shadow update accepted')\n    //    resolve()\n    //  } else if (message.destinationName === `$aws/things/${this.props.thing.device}/shadow/update/rejected`) {\n    //    console.warn('shadow update rejected')\n    //    reject()\n    //  }\n    //}\n    //await subscribeThingShadowUpdate(client, thing)\n    await requestThingShadowUpdate(thing, thingShadow)\n  })\n}\n\nexport function initAwsMqttClient() {\n  console.warn('init', AWS.config.region, AWS.config.credentials)\n  const requestUrl = SigV4getSignedUrl(\n    'a2xnjhywaij79l-ats.iot.us-west-2.amazonaws.com',\n    AWS.config.region,\n    AWS.config.credentials\n  )\n  const client = new Paho.Client(requestUrl, AWS_CONFIG.clientId)\n  client.onMessageArrived = message => {\n    console.log('mqtt message', message.destinationName)\n    if (message.destinationName === '$aws/things/Test7/shadow/get/accepted') {\n      console.log('RESOLVE SHADOW', JSON.parse(message.payloadString))\n    }\n  }\n  const connectOptions = {\n    onSuccess: function() {\n      // connect succeeded\n      console.log('connected')\n      client.subscribe('$aws/things/Test7/shadow/get/accepted')\n      client.subscribe('$aws/things/Test7/shadow/get/rejected')\n      console.log('subscribed', Paho)\n      setTimeout(() => {\n        const message = new Paho.Message('')\n        message.destinationName = '$aws/things/Test7/shadow/get'\n        client.send(message)\n      }, 1000)\n      // message = new Paho.MQTT.Message(\"Hello\");\n      // message.destinationName = \"World\";\n      // client.send(message);\n    },\n    useSSL: true,\n    //timeout: 3,\n    mqttVersion: 4,\n    onFailure: function(err) {\n      // connect failed\n      console.log('error', err)\n    },\n  }\n  client.connect(connectOptions)\n}\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive'\nimport NotificationsIcon from '@material-ui/icons/NotificationsOutlined'\n\nclass ThingAlarm extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.alarm === true || thing.alarm === 'true'\n    } else {\n      return thingShadow.state.reported.alarm === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      whenActive = null,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (this.isActive() ? (\n            <NotificationsActiveIcon\n              className={`${classes.icon} ${classes.icon_textPrimary}`}\n            />\n          ) : (\n            <NotificationsIcon\n              className={`${classes.icon} ${classes.icon_textSecondary}`}\n            />\n          ))}\n        {!hideLabel && <span className={classes.label}>Сигнализация</span>}\n        {!hideValue &&\n          (this.isActive() ? (\n            <strong className={classes.value}>Активна</strong>\n          ) : (\n            <span className={classes.value}>Не активна</span>\n          ))}\n        {whenActive && this.isActive() && whenActive}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingAlarm)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport LockIcon from '@material-ui/icons/LockOutlined'\nimport MdiIcon from '@mdi/react'\nimport { mdiLockOpen } from '@mdi/js'\n\nclass ThingGuard extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.guard === true || thing.guard === 'true'\n    } else {\n      return thingShadow.state.reported.guard === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      whenActive,\n      whenInactive,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (this.isActive() ? (\n            <LockIcon\n              className={`${classes.icon} ${classes.icon_textSecondary}`}\n            />\n          ) : (\n            <MdiIcon\n              className={`${classes.icon} ${classes.icon_textPrimary}`}\n              path={mdiLockOpen}\n              size={1}\n              style={{ fill: 'currentColor' }}\n            />\n          ))}\n        {!hideLabel && <span className={classes.label}>Охрана объекта</span>}\n        {!hideValue &&\n          (this.isActive() ? (\n            <span className={classes.value}>Включена</span>\n          ) : (\n            <strong className={classes.value}>Отключена</strong>\n          ))}\n        {whenActive && this.isActive() && whenActive}\n        {whenInactive && !this.isActive() && whenInactive}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingGuard)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport PowerIcon from '@material-ui/icons/PowerOutlined'\nimport PowerOffIcon from '@material-ui/icons/PowerOff'\n\nclass ThingPower extends React.PureComponent {\n  isActive() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.pwr === true || thing.pwr === 'true'\n    } else {\n      return thingShadow.state.reported.pwr === true\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (this.isActive() ? (\n            <PowerIcon\n              className={`${classes.icon} ${classes.icon_textSecondary}`}\n            />\n          ) : (\n            <PowerOffIcon\n              className={`${classes.icon} ${classes.icon_textPrimary}`}\n            />\n          ))}\n        {!hideLabel && <span className={classes.label}>Питание</span>}\n        {!hideValue &&\n          (this.isActive() ? (\n            <span className={classes.value}>Поступает</span>\n          ) : (\n            <strong className={classes.value}>Не поступает</strong>\n          ))}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingPower)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\n//import ImportExportIcon from '@material-ui/icons/ImportExport'\nimport MdiIcon from '@mdi/react'\nimport { mdiEthernetCable, mdiAccessPoint } from '@mdi/js'\n\nclass ThingConnection extends React.PureComponent {\n  isEthernet() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.conn === 'eth'\n    } else {\n      return thingShadow.state.reported.conn === 'eth'\n    }\n  }\n\n  isGsm() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return thing.conn === 'gsm'\n    } else {\n      return thingShadow.state.reported.conn === 'gsm'\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon &&\n          (this.isEthernet() ? (\n            <MdiIcon\n              className={`${classes.icon} ${classes.icon_textSecondary}`}\n              path={mdiEthernetCable}\n              size={1}\n              style={{ fill: 'currentColor' }}\n            />\n          ) : (\n            <MdiIcon\n              className={`${classes.icon} ${classes.icon_textSecondary}`}\n              path={mdiAccessPoint}\n              size={1}\n              style={{ fill: 'currentColor' }}\n            />\n          ))}\n        {!hideLabel && <span className={classes.label}>Активный канал</span>}\n        {!hideValue &&\n          (this.isEthernet() ? (\n            <span className={classes.value}>Ethernet</span>\n          ) : this.isGsm() ? (\n            <span className={classes.value}>GSM</span>\n          ) : (\n            <span className={classes.value}>Неизвестно</span>\n          ))}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingConnection)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport moment from 'moment'\nimport 'moment/locale/ru'\n\nimport ScheduleIcon from '@material-ui/icons/Schedule'\n\nclass ThingUpdated extends React.PureComponent {\n  getValue() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return moment(Number(`${thing.msgtime}000`)).format('DD.MM.YY HH:mm')\n    } else {\n      return moment(Number(`${thingShadow.state.reported.msgtime}000`)).format(\n        'DD.MM.YY HH:mm'\n      )\n    }\n  }\n\n  getValueDuration() {\n    const { thing, thingShadow } = this.props\n    if (!thingShadow) {\n      return moment\n        .duration(Number(`${thing.msgtime}000`) - new Date().getTime())\n        .locale('ru')\n        .humanize(true)\n    } else {\n      return moment\n        .duration(\n          Number(`${thingShadow.state.reported.msgtime}000`) -\n            new Date().getTime()\n        )\n        .locale('ru')\n        .humanize(true)\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      thing,\n      thingShadow,\n      hideIcon = false,\n      hideLabel = false,\n      hideValue = false,\n      hideValueDuration = false,\n    } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <span className={classes.root}>\n        {!hideIcon && (\n          <ScheduleIcon\n            className={`${classes.icon} ${classes.icon_textSecondary}`}\n          />\n        )}\n        {!hideLabel && <span className={classes.label}>Обновлено</span>}\n        {!hideValue && <span className={classes.value}>{this.getValue()}</span>}\n        {!hideValueDuration && (\n          <span className={classes.valueDuration}>\n            {this.getValueDuration()}\n          </span>\n        )}\n      </span>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {\n    color: theme.palette.text.primary,\n  },\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n})\n\nexport default withStyles(styles)(ThingUpdated)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\nimport LensIcon from '@material-ui/icons/Lens' // import CheckCircleIcon from '@material-ui/icons/CheckCircle'\nimport ErrorIcon from '@material-ui/icons/Error'\nimport NewReleasesIcon from '@material-ui/icons/NewReleases'\nimport HelpIcon from '@material-ui/icons/Help'\n\nclass SensorStatus extends React.PureComponent {\n  state = {}\n\n  render() {\n    const { classes, sensor } = this.props\n    if (!sensor) {\n      return null\n    }\n    return (\n      <React.Fragment>\n        {sensor.status === 'normal' ? (\n          <React.Fragment>\n            <LensIcon\n              className={classes.icon}\n              style={{ color: 'rgb(46,204,113)' }}\n            />\n            <span>Норма</span>\n          </React.Fragment>\n        ) : sensor.status === 'almin' ? (\n          <React.Fragment>\n            <ErrorIcon\n              className={classes.icon}\n              style={{ color: 'rgb(252,118,0)' }}\n            />\n            <span>Нарушение</span>\n          </React.Fragment>\n        ) : sensor.status === 'almaj' ? (\n          <React.Fragment>\n            <NewReleasesIcon\n              className={classes.icon}\n              style={{ color: 'rgb(232,15,15)' }}\n            />\n            <span>Авария</span>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <HelpIcon className={classes.icon} color=\"action\" />\n            <span>Неизвестно</span>\n          </React.Fragment>\n        )}\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  icon: {\n    position: 'relative',\n    top: -1,\n    width: 16,\n    height: 16,\n    marginLeft: 4,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n})\n\nexport default withStyles(styles)(SensorStatus)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport SensorStatus from '../Sensor/SensorStatus'\n\nclass ThingSensors extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Статус</TableCell>\n              <TableCell>Название</TableCell>\n              <TableCell>Роль</TableCell>\n              <TableCell>Значение</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              thingShadow.state.reported.ain &&\n              thingShadow.state.reported.ain.map((sensor, i) => (\n                <TableRow key={i}>\n                  <TableCell>\n                    <SensorStatus sensor={sensor} />\n                  </TableCell>\n                  <TableCell>{sensor.name}</TableCell>\n                  <TableCell>{sensor.role}</TableCell>\n                  <TableCell>{sensor.value}</TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingSensors)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\n\nclass ThingPins extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Пин</TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>1</TableCell>\n              <TableCell>2</TableCell>\n              <TableCell>3</TableCell>\n              <TableCell>4</TableCell>\n              <TableCell>5</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell component=\"th\" scope=\"row\">\n                Значение\n              </TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>0</TableCell>\n              <TableCell>0</TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingPins)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Switch from '@material-ui/core/Switch'\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nclass ThingRelays extends React.PureComponent {\n  isThingRelayDesired(i) {\n    const { thingShadow: { state: { desired, reported } } } = this.props\n    if (desired) {\n      const desiredRelay = desired.relay\n      const reportedRelay = reported.relay\n      if (desiredRelay && desiredRelay[i] !== reportedRelay[i]) {\n        return true\n      }\n    }\n    return false\n  }\n\n  isThingRelayOn(i) {\n    const { thingShadow, unsavedRelayState } = this.props\n    if (unsavedRelayState !== undefined) {\n      return !!unsavedRelayState[i]\n    } else {\n      if (thingShadow.state.desired && thingShadow.state.desired.relay) {\n        return !!thingShadow.state.desired.relay[i]\n      } else if (\n        thingShadow.state.reported &&\n        thingShadow.state.reported.relay\n      ) {\n        return !!thingShadow.state.reported.relay[i]\n      }\n    }\n  }\n\n  render() {\n    const { classes, thing, thingShadow, onChangeRelay } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Реле</TableCell>\n              <TableCell>Показания</TableCell>\n              <TableCell />\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              !!thingShadow.state.reported.relay &&\n              thingShadow.state.reported.relay.map((r, i) => (\n                <TableRow key={i}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    Реле {i}\n                  </TableCell>\n                  <TableCell>\n                    {this.isThingRelayOn(i) ? 'включено' : 'выключено'}\n                  </TableCell>\n                  <TableCell>\n                    <Box display=\"inline-flex\" alignItems=\"center\">\n                      {this.isThingRelayDesired(i) && (\n                        <CircularProgress style={{ width: 20, height: 20 }} />\n                      )}\n                      <Switch\n                        color={\n                          this.isThingRelayDesired(i) ? 'primary' : 'secondary'\n                        }\n                        disabled={!thingShadow}\n                        checked={this.isThingRelayOn(i)}\n                        onChange={({ target: { checked: on } }) => {\n                          onChangeRelay(i, on)\n                        }}\n                      />\n                    </Box>\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      height: 48,\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th': {\n      width: '37%',\n    },\n    '& tbody td:last-child': {\n      width: 1,\n      paddingRight: 0,\n      textAlign: 'right',\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingRelays)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\nimport SensorStatus from '../Sensor/SensorStatus'\n\nclass ThingBusDevices extends React.PureComponent {\n  render() {\n    const { classes, thing, thingShadow, bus } = this.props\n    if (!thing && !thingShadow) {\n      return null\n    }\n    if (!bus) {\n      return null\n    }\n    return (\n      <div className={classes.root}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow>\n              <TableCell>Статус</TableCell>\n              <TableCell>Значение</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {!!thingShadow &&\n              thingShadow.state.reported[bus] &&\n              thingShadow.state.reported[bus].map((sensor, i) => {\n                if (sensor.water) {\n                  sensor = sensor.water\n                  sensor.type = 'water'\n                } else {\n                  return null\n                }\n                return (\n                  <TableRow key={i}>\n                    <TableCell>\n                      <SensorStatus sensor={sensor} />\n                    </TableCell>\n                    <TableCell>{sensor.value}</TableCell>\n                  </TableRow>\n                )\n              })}\n          </TableBody>\n        </Table>\n      </div>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n})\n\nexport default withStyles(styles)(ThingBusDevices)\n","import React from 'react'\nimport { withStyles } from '@material-ui/styles'\n\nimport {\n  getAwsMqttClient,\n  requestThingShadowGet,\n  requestThingShadowUpdate,\n  subscribeThingShadowGet,\n  subscribeThingShadowUpdate,\n} from '../services/AwsMqttService'\n\nimport Box from '@material-ui/core/Box'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport ThingStatus from './Thing/ThingStatus'\nimport Typography from '@material-ui/core/Typography'\n\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableRow from '@material-ui/core/TableRow'\nimport TableCell from '@material-ui/core/TableCell'\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport Button from '@material-ui/core/Button'\n\nimport ThingAlarm from './Thing/ThingAlarm'\nimport ThingGuard from './Thing/ThingGuard'\nimport ThingPower from './Thing/ThingPower'\nimport ThingConnection from './Thing/ThingConnection'\nimport ThingUpdated from './Thing/ThingUpdated'\nimport ThingSensors from './Thing/ThingSensors'\nimport ThingPins from './Thing/ThingPins'\nimport ThingRelays from './Thing/ThingRelays'\nimport ThingBusDevices from './Thing/ThingBus'\n\nclass DispatchThingDetails extends React.PureComponent {\n  state = {\n    thingShadowPending: false,\n    thingShadowError: null,\n    thingShadow: null,\n\n    unsavedRelayState: undefined,\n  }\n\n  componentDidMount() {\n    this.listenThingShadow()\n  }\n\n  componentWillUnmount() {\n    this.unlistenThingShadow()\n  }\n\n  async listenThingShadow() {\n    const { thing } = this.props\n    this.setState({\n      thingShadowPending: true,\n      thingShadowError: null,\n      thingShadow: null,\n    })\n    this.awsMqttClient = await getAwsMqttClient()\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/get/accepted`,\n      this.handleThingShadowGetAccepted\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/get/rejected`,\n      this.handleThingShadowGetRejected\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/update/accepted`,\n      this.handleThingShadowUpdateAccepted\n    )\n    this.awsMqttClient.on(\n      `$aws/things/${thing.device}/shadow/update/rejected`,\n      this.handleThingShadowUpdateRejected\n    )\n    await subscribeThingShadowGet(thing)\n    await subscribeThingShadowUpdate(thing)\n    requestThingShadowGet(thing)\n  }\n\n  unlistenThingShadow() {\n    const { thing } = this.props\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/get/accepted`,\n      this.handleThingShadowGetAccepted\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/get/rejected`,\n      this.handleThingShadowGetRejected\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/update/accepted`,\n      this.handleThingShadowUpdateAccepted\n    )\n    this.awsMqttClient.removeListener(\n      `$aws/things/${thing.device}/shadow/update/rejected`,\n      this.handleThingShadowUpdateRejected\n    )\n  }\n\n  handleThingShadowGetAccepted = message => {\n    const thingShadow = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadowPending: false,\n      thingShadowError: null,\n      thingShadow,\n    })\n  }\n\n  handleThingShadowGetRejected = message => {\n    const thingShadowError = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadowPending: false,\n      thingShadowError,\n      thingShadow: null,\n    })\n  }\n\n  handleThingShadowUpdateAccepted = message => {\n    const { state } = JSON.parse(message.payloadString)\n    this.setState({\n      thingShadow: {\n        ...this.state.thingShadow,\n        state: { ...this.state.thingShadow.state, ...state },\n      },\n      unsavedRelayState: undefined,\n    })\n  }\n\n  handleThingShadowUpdateRejected = message => {\n    //const thingShadowError= JSON.parse(message.payloadString)\n    //this.setState({ thingShadowPending:false, thingShadowError, thingShadow:null })\n  }\n\n  getThingShadowAlertState() {\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.alert) {\n      return thingShadowState.desired.alert\n    }\n    if (thingShadowState.reported) {\n      return thingShadowState.reported.alert\n    }\n    return false\n  }\n\n  getThingShadowGuardState() {\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.guard) {\n      return thingShadowState.desired.guard\n    }\n    if (thingShadowState.reported) {\n      return thingShadowState.reported.guard\n    }\n    return false\n  }\n\n  getThingShadowRelayState() {\n    if (this.state.unsavedRelayState !== undefined) {\n      return this.state.unsavedRelayState || []\n    }\n    const {\n      thingShadow: { state: thingShadowState },\n    } = this.state\n    if (thingShadowState.desired && thingShadowState.desired.relay) {\n      return thingShadowState.desired.relay || []\n    }\n    if (thingShadowState.reported && thingShadowState.reported.relay) {\n      return thingShadowState.reported.relay || []\n    }\n    return []\n  }\n\n  handleChangeAlarm = async () => {\n    let alarm = false\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { alarm } },\n    })\n  }\n\n  handleChangeGuard = async () => {\n    let guard = this.getThingShadowGuardState()\n    guard = !guard\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { guard } },\n    })\n  }\n\n  handleChangeRelay = async (index, value) => {\n    const relay = [...this.getThingShadowRelayState()]\n    relay[index] = value ? 1 : 0\n    requestThingShadowUpdate(this.props.thing, {\n      state: { desired: { relay } },\n    })\n  }\n\n  render() {\n    const { classes, thing } = this.props\n    if (!thing) return null\n    console.groupCollapsed('RENDER THING DETAILS')\n    console.log('THING', thing)\n    console.log('THING SHADOW', this.state.thingShadow)\n    console.groupEnd()\n    return (\n      <React.Fragment>\n        {/*<pre>{''+this.state.thingShadowPending} - {JSON.stringify(this.state.thingShadowError)} - {JSON.stringify(this.state.thingShadow)}</pre>*/}\n        <div>\n          {this.state.thingShadowPending && (\n            <CircularProgress className={classes.progress} />\n          )}\n\n          {/*<Box display=\"flex\" alignItems=\"center\" mb={2}>\n            <ThingStatus thing={thing} thingShadow={this.state.thingShadow} hideLabel/>\n          </Box>\n\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\n            <LockIcon style={{ position:'relative', top:-1, marginRight:8, }}/>\n            <Typography className={classes.panelHeading} variant=\"subtitle1\">Объект на охране</Typography>\n          </Box>\n\n          <Box display=\"flex\" alignItems=\"center\" mb={2}>\n            <PowerIcon style={{ position:'relative', top:-1, marginRight:8, }}/>\n            <Typography className={classes.panelHeading} variant=\"subtitle1\">Питание подключено</Typography>\n          </Box>*/}\n\n          <ExpansionPanel\n            className={classes.panel}\n            elevation={0}\n            defaultExpanded={true}\n          >\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Состояние\n              </Typography>\n              <Box flexGrow={1} />\n              <Box alignItems=\"center\" className={classes.panelDetailsShort}>\n                <ThingStatus\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingAlarm\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingGuard\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingPower\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n                <ThingConnection\n                  hideLabel\n                  hideValue\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n              </Box>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <Table className={classes.table}>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Свойство</TableCell>\n                    <TableCell>Значение</TableCell>\n                    <TableCell />\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingStatus\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingStatus\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingAlarm\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingAlarm\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingAlarm\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                        whenActive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeAlarm}\n                          >\n                            Квитировать\n                          </Button>\n                        }\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingGuard\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingGuard\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingGuard\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                        whenActive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeGuard}\n                          >\n                            Снять с охраны\n                          </Button>\n                        }\n                        whenInactive={\n                          <Button\n                            variant=\"outlined\"\n                            color=\"secondary\"\n                            disabled={this.state.thingShadowPending}\n                            onClick={this.handleChangeGuard}\n                          >\n                            Поставить на охрану\n                          </Button>\n                        }\n                      />\n                    </TableCell>\n                  </TableRow>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingPower\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingPower\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingConnection\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingConnection\n                        hideIcon\n                        hideLabel\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell />\n                  </TableRow>\n                  <TableRow>\n                    <TableCell component=\"th\" scope=\"row\">\n                      <ThingUpdated\n                        hideValue\n                        hideValueDuration\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell>\n                      <ThingUpdated\n                        hideIcon\n                        hideLabel\n                        hideValueDuration\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                    <TableCell style={{ textAlign: 'right', paddingRight: 0 }}>\n                      <ThingUpdated\n                        hideIcon\n                        hideLabel\n                        hideValue\n                        thing={thing}\n                        thingShadow={this.state.thingShadow}\n                      />\n                    </TableCell>\n                  </TableRow>\n                </TableBody>\n              </Table>\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n\n          {!!(\n            thing.ain ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.ain)\n          ) && (\n            <ExpansionPanel className={classes.panel} elevation={0}>\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Аналоговые датчики\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingSensors\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.owire ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.owire)\n          ) && (\n            <ExpansionPanel className={classes.panel} elevation={0}>\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина 1-Wire\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"owire\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs485 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs485)\n          ) && (\n            <ExpansionPanel className={classes.panel} elevation={0}>\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Шина RS-485\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs485\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          {!!(\n            thing.rs232 ||\n            (this.state.thingShadow &&\n              this.state.thingShadow.state.reported.rs232)\n          ) && (\n            <ExpansionPanel className={classes.panel} elevation={0}>\n              <ExpansionPanelSummary\n                classes={{\n                  root: classes.panelSummary,\n                  content: classes.panelSummaryContent,\n                }}\n                expandIcon={<ExpandMoreIcon />}\n              >\n                <Typography className={classes.panelHeading} variant=\"h6\">\n                  Устройство RS-232\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.panelDetails}>\n                <ThingBusDevices\n                  thing={thing}\n                  thingShadow={this.state.thingShadow}\n                  bus=\"rs232\"\n                />\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n\n          <ExpansionPanel className={classes.panel} elevation={0}>\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Дискретные выходы\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <ThingPins thing={thing} thingShadow={this.state.thingShadow} />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n\n          <ExpansionPanel className={classes.panel} elevation={0}>\n            <ExpansionPanelSummary\n              classes={{\n                root: classes.panelSummary,\n                content: classes.panelSummaryContent,\n              }}\n              expandIcon={<ExpandMoreIcon />}\n            >\n              <Typography className={classes.panelHeading} variant=\"h6\">\n                Реле\n              </Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails className={classes.panelDetails}>\n              <ThingRelays\n                thing={thing}\n                thingShadow={this.state.thingShadow}\n                unsavedRelayState={this.state.unsavedRelayState}\n                onChangeRelay={this.handleChangeRelay}\n              />\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nconst styles = theme => ({\n  root: {},\n  status: {},\n\n  panel: {\n    '&.Mui-expanded': {\n      margin: 0,\n    },\n  },\n  panelSummary: {\n    minHeight: 48,\n    padding: 0,\n    '&.Mui-expanded': {\n      minHeight: 48,\n      margin: 0,\n      '& $panelDetailsShort': {\n        display: 'none',\n      },\n    },\n  },\n  panelSummaryContent: {\n    minHeight: 'auto',\n    margin: 0,\n    '&.Mui-expanded': {\n      margin: 0,\n    },\n  },\n  panelDetails: {\n    padding: 0,\n  },\n  panelDetailsShort: {\n    display: 'flex',\n  },\n  panelHeading: {},\n\n  list: {\n    margin: theme.spacing(-1, -2, 2),\n    padding: 0,\n  },\n  table: {\n    marginTop: theme.spacing(0),\n    marginBottom: theme.spacing(3),\n    '& thead th': {\n      padding: theme.spacing(0, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& tbody th, & tbody td': {\n      padding: theme.spacing(1.5, 2),\n      lineHeight: '24px',\n      '&:first-child': {\n        paddingLeft: 0,\n      },\n    },\n    '& > tbody > tr:last-child th, & > tbody > tr:last-child td': {\n      borderBottom: 0,\n    },\n  },\n\n  icon: {\n    position: 'relative',\n    top: -1,\n    marginRight: 8,\n    verticalAlign: 'middle',\n  },\n  icon_textPrimary: {},\n  icon_textSecondary: {\n    color: theme.palette.text.secondary,\n  },\n\n  progress: {\n    position: 'absolute',\n    zIndex: 100500,\n    top: '50%',\n    left: '50%',\n    marginTop: -20,\n    marginLeft: -20,\n  },\n})\n\nexport default withStyles(styles)(DispatchThingDetails)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DispatchThingDetails from '../components/DispatchThingDetails'\n\nconst mapStateToProps = (state, { thing }) => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nclass DispatchThingDetailsContainer extends React.PureComponent {\n  componentDidMount() {}\n\n  render() {\n    return <DispatchThingDetails {...this.props} />\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  DispatchThingDetailsContainer\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport Dispatch from '../components/Dispatch'\nimport FilterContainer from './FilterContainer'\nimport DispatchEventListContainer from './DispatchEventListContainer'\nimport DispatchThingListContainer from './DispatchThingListContainer'\nimport DispatchThingDetailsContainer from './DispatchThingDetailsContainer'\n\nconst mapStateToProps = state => ({})\n\nconst mapDispatchToProps = dispatch => ({})\n\nclass DispatchContainer extends React.Component {\n  render() {\n    return (\n      <Dispatch\n        filterComponent={FilterContainer}\n        eventListComponent={DispatchEventListContainer}\n        thingListComponent={DispatchThingListContainer}\n        thingDetailsComponent={DispatchThingDetailsContainer}\n      />\n    )\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DispatchContainer)\n","import React from 'react'\n\nconst NotFound = ({ data }) => {\n  return (\n    <React.Fragment>\n      <h2>Страница не найдена</h2>\n      <p>Попробуйте... (ссылки)</p>\n    </React.Fragment>\n  )\n}\n\nexport default NotFound\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport PrivateRoute from './containers/PrivateRoute'\nimport LoginContainer from './containers/LoginContainer'\nimport LinkBtn from './components/LinkBtn'\nimport UserContainer from './containers/UserContainer'\nimport AnalystContainer from './containers/AnalystContainer'\nimport WsSelectContainer from './containers/WsSelectContainer'\nimport DispatchContainer from './containers/DispatchContainer'\nimport NotFound from './components/NotFound'\nimport './App.css'\n\nconst DEBUG = true\n\nfunction DebugBtns(props) {\n  if (props.debug) {\n    return (\n      <React.Fragment>\n        <LinkBtn to=\"/ws\" label={'Выбор ARM'} />\n      </React.Fragment>\n    )\n  }\n  return null\n}\n\nconst App = ({ store }) => (\n  <div className=\"rootDiv\">\n    <header className=\"header\">\n      <div className=\"logo\">\n        <span className=\"appName\">ST-Eye</span>\n        <span className=\"separator\"></span>\n        <span className=\"pageName\"></span>\n      </div>\n      <div className=\"top-menu\">\n        <DebugBtns debug={DEBUG} />\n      </div>\n      <UserContainer />\n    </header>\n    <Switch>\n      <Route exact path=\"/\" component={LoginContainer} />\n      <Route path=\"/login\" component={LoginContainer} />\n      <PrivateRoute path=\"/analyst\" component={AnalystContainer} />\n      <PrivateRoute path=\"/dispatch\" component={DispatchContainer} />\n      <PrivateRoute path=\"/ws\" component={WsSelectContainer} />\n      <Route component={NotFound} />\n    </Switch>\n  </div>\n)\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.')\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#3498db',\n    },\n    secondary: {\n      main: '#3f51b5',\n    },\n  },\n})\n\nexport default theme\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware } from 'redux'\nimport { ThemeProvider } from '@material-ui/styles'\nimport thunk from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport reducer from './reducers'\n\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport theme from './theme'\nimport './index.css'\n\nconst middleware = [thunk]\nif (process.env.NODE_ENV !== 'production') {\n  middleware.push(createLogger())\n}\n\nconst store = createStore(reducer, applyMiddleware(...middleware))\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <Router>\n        <App store={store} />\n      </Router>\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n)\nregisterServiceWorker()\n"],"sourceRoot":""}